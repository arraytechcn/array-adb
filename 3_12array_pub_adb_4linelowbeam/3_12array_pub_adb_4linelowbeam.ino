
#include <esp_now.h>
#include <WiFi.h>

#include <BLEDevice.h>
#include <BLEServer.h>
#include <BLEUtils.h>
#include <BLE2902.h>
#include <SPIFFS.h>
#include <FS.h>
#include <mbedtls/aes.h>
#include <mbedtls/entropy.h>
#include <mbedtls/ctr_drbg.h>
#include <mbedtls/cipher.h>
#include <HardwareSerial.h>

#include <Arduino.h>
#include <HardwareSerial.h>


#include <WiFi.h>
#include <HTTPClient.h>
#include <FS.h>
#include <SPIFFS.h>

#define WIFI_SSID "array"
#define WIFI_PASSWORD "66666666"
#define FILE_URL "https://array-tech.cn/api.php?ble_one=1_L&oid=996000100472"
#define FILE_PATH "/low.txt"
#define BUFFER_SIZE 4096


HardwareSerial uart(2);  // 使用IO口1作为硬件串口
const int ioHigh = 35;   //  远光输入
const int ioAcc = 34;    //  acc输入
const int ioEn = 32;     // IO口的引脚号

const int io_out0 = 25;      // IO口的引脚号  27 在 array 长方形板 mos 未使用
const int io_out1 = 26;      // IO口的引脚号  26 在 array 长方形板 2 号或 adb 远光 输出 mos
const int io_adb_high = 27;  // IO口的引脚号  25 在 array 长方形板 1 号输出 mos

const int enablePin = 13;  // 使能引脚
int global_status = 0;     // 0， 关灯 ；1，近光 ，2 远光灯 ，3 小灯 ，4 灯光秀，5 转向灯
File file;
int adb_status = 0;

bool high_beam_status = false;

// String adb_status = 0;

BLEServer *pServer;
BLEService *pService;
BLECharacteristic *pCharacteristic;
String line;
const char *serviceUUID = "996000000000";  // 替换为您的服务UUID
const char *charUUID = "996000000000";     // 替换为您的特征值UUID
const char *deviceName = "996000000000";
int loopCount;
String tempdeviceNameUUID = "array996000000000";
String LoopfileContent;
// String array_play; // 将 array_play 声明为 String 类型
int count = 0;
uint8_t myMacAddress[] = { 0x01, 0x23, 0x45, 0x07, 0x09, 0x0B };

// Callback function that will be executed when data is received
void adb_OnDataRecv(const uint8_t *mac_addr, const uint8_t *data, int data_len) {
  // 将接收到的数据转换为字符串
  String receivedData = "";
  for (int i = 0; i < data_len; i++) {
    receivedData += (char)data[i];
  }
  // Serial.print("-------adb id:");
  // Serial.println(tempdeviceNameUUID);
  // 检查接收到的数据是否以 "array996000100215" 开头
  if (receivedData.startsWith(tempdeviceNameUUID)) {
    // if (receivedData.startsWith("array996000000003")) {
    // 打印接收到的数据
    // Serial.print("Received from: ");
    // for (int i = 0; i < 6; i++) {
    //   Serial.print(mac_addr[i], HEX);
    //   if (i < 5) Serial.print(":");
    // }
    // Serial.print(" | Data: ");
    // Serial.println(receivedData);
    // int state = digitalRead(ioHigh);
    // if (state == LOW) {
    String dataAfterPrefix = receivedData.substring(17);  // "array996000100215" 的长度是 18
    int dataAfterPrefixint = dataAfterPrefix.toInt();

    String dataAfterPrefixLR = receivedData.substring(17, 18);  // "array996000100215" 的长度是 18
    int dataAfterPrefixintLR = dataAfterPrefixLR.toInt();

    Serial.print("adb 86 数据");
    Serial.println(dataAfterPrefixintLR);

    Serial.print("adb 数据");
    Serial.println(dataAfterPrefixint);
    // if (dataAfterPrefixint) {
    //   adb_status = 1;
    //   high_beam();
    // }
    // 定义每个函数的状态变量
    int state = digitalRead(ioHigh);  // 读取IO口的状态
    if (state == LOW) {
      switch (dataAfterPrefixint) {
        // Serial.println("adb 数据"+ dataAfterPrefixint );
        // case 0:
        //   if (!high_beam_status) {
        //     Serial.println("adb 全开");
        //     lowbeam();
        //     high_beam_status = true;
        //   }
        //   break;
        case 1:
          if (adb_status != 1) {
            adb1();
            adb_status = 1;
          }
          break;
        case 2:
          if (adb_status != 2) {
            adb2();
            adb_status = 2;
          }
          break;
        case 3:
          if (adb_status != 3) {
            adb3();
            adb_status = 3;
          }
          break;
        case 4:
          if (adb_status != 4) {
            adb4();
            adb_status = 4;
          }
          break;
        case 5:
          if (adb_status != 5) {
            adb5();
            adb_status = 5;
          }
          break;

        case 6:
          if (adb_status != 6) {
            adb6();
            adb_status = 6;
          }
          break;
        case 7:
          if (adb_status != 7) {
            adb7();
            adb_status = 7;
          }
          break;
        case 8:
          if (adb_status != 8) {
            adb8();
            adb_status = 8;
          }
          break;
        case 9:
          if (adb_status != 9) {
            adb9();
            adb_status = 9;
          }
          break;
        case 10:
          if (adb_status != 10) {
            adb10();
            adb_status = 10;
          }
          break;
        case 11:
          if (adb_status != 11) {
            adb11();
            adb_status = 11;
          }
          break;
        case 12:
          if (adb_status != 12) {
            adb12();
            adb_status = 12;
          }
          break;
        case 13:
          if (adb_status != 13) {
            adb13();
            adb_status = 13;
          }
          break;
        case 14:
          if (adb_status != 14) {
            adb14();
            adb_status = 14;
          }
          break;
        case 15:
          if (adb_status != 15) {
            adb15();
            adb_status = 15;
          }
          break;
        case 16:
          if (adb_status != 16) {
            adb16();
            adb_status = 16;
          }
          break;
        case 17:
          if (adb_status != 17) {
            adb17();
            adb_status = 17;
          }
          break;
        case 18:
          if (adb_status != 18) {
            adb18();
            adb_status = 18;
          }
          break;
        case 19:
          if (adb_status != 19) {
            adb19();
            adb_status = 19;
          }
          break;
        case 20:
          if (adb_status != 20) {
            adb20();
            adb_status = 20;
          }
          break;
        case 21:
          if (adb_status != 21) {
            adb21();
            adb_status = 21;
          }
          break;
        case 22:
          if (adb_status != 22) {
            // adb22();
            adb_status = 22;
          }
          break;
        case 23:
          if (adb_status != 23) {
            // adb23();
            adb_status = 23;
          }
          break;
        case 24:
          if (adb_status != 24) {
            // adb24();
            adb_status = 24;
          }
          break;

        case 99:
          if (adb_status != 99) {
            // Serial.println("adb99");
            kais(0xBF, 0x15, 0x15, 0x15, 0x15, 0x1F, 0x7C);
            adb_status = 99;
          }
          break;
        case 100:
          if (adb_status != 100) {
            Serial.println("adb100");
            lowbeam();
            adb_status = 100;
          }
          break;
        case 81:
          if (adb_status != 81) {
            adb_L1_on();
            adb_status = 81;
          }
          break;

        case 82:
          if (adb_status != 82) {
            adb_L2_on();
            adb_status = 82;
          }
          break;

        case 83:
          if (adb_status != 83) {
            adb_L3_on();
            adb_status = 83;
          }
          break;


        case 84:
          if (adb_status != 84) {
            adb_L4_on();

            adb_status = 84;
          }
          break;

        case 85:
          if (adb_status != 85) {
            adb_L5_on();
            adb_status = 85;
          }
          break;

        case 86:
          if (adb_status != 86) {
            adb_L6_on();
            adb_status = 86;
          }
          break;

        case 87:
          if (adb_status != 87) {
            adb_L7_on();
            adb_status = 87;
          }
          break;


        case 88:
          if (adb_status != 88) {
            adb_L8_on();
            adb_status = 88;
          }
          break;

        case 89:
          if (adb_status != 89) {
            adb_L9_on();
            adb_status = 89;
          }
          break;


        case 810:
          if (adb_status != 810) {
            adb_L10_on();
            adb_status = 810;
          }
          break;

        case 811:
          if (adb_status != 811) {
            adb_L11_on();
            adb_status = 811;
          }
          break;

        case 812:
          if (adb_status != 812) {
            adb_L12_on();
            adb_status = 812;
          }
          break;




        case 61:
          if (adb_status != 61) {
            adb_R1_on();
            adb_status = 61;
          }
          break;

        case 62:
          if (adb_status != 62) {
            adb_R2_on();
            adb_status = 62;
          }
          break;


        case 63:
          if (adb_status != 63) {
            adb_R3_on();
            adb_status = 63;
          }
          break;

        case 64:
          if (adb_status != 64) {
            adb_R4_on();
            adb_status = 64;
          }
          break;


        case 65:
          if (adb_status != 65) {
            adb_R5_on();
            adb_status = 65;
          }
          break;

        case 66:
          if (adb_status != 66) {
            adb_R6_on();
            adb_status = 66;
          }
          break;


        case 67:
          if (adb_status != 67) {
            adb_R7_on();
            adb_status = 67;
          }
          break;

        case 68:
          if (adb_status != 68) {
            adb_R8_on();
            adb_status = 68;
          }
          break;


        case 69:
          if (adb_status != 69) {
            adb_R9_on();
            adb_status = 69;
          }
          break;


        case 610:
          if (adb_status != 610) {
            adb_R10_on();
            adb_status = 610;
          }
          break;

        case 611:
          if (adb_status != 611) {
            adb_R11_on();
            adb_status = 611;
          }
          break;

        case 612:
          if (adb_status != 612) {
            adb_R12_on();
            adb_status = 612;
          }
          break;

        case 699:
          if (adb_status != 699) {
            adb_R12_on();
            delay(22);
            All_off();
            adb_R11_on();
            delay(22);
            All_off();
            adb_R10_on();
            delay(22);
            All_off();
            adb_R9_on();
            delay(22);
            All_off();
            adb_R8_on();
            delay(22);
            All_off();
            adb_R7_on();
            delay(22);
            All_off();
            adb_R6_on();
            delay(22);
            All_off();
            adb_R5_on();
            delay(22);
            All_off();
            adb_R4_on();
            delay(22);
            All_off();
            adb_R3_on();
            delay(22);
            All_off();
            adb_R2_on();
            delay(22);
            All_off();
            adb_R12_on();
            delay(22);
            All_off();
            adb_all_on();
            adb_status = 699;
          }
          break;

        case 6100:
          if (adb_status != 6100) {
            Serial.println("adb6100");
            lowbeam();
            adb_status = 6100;
          }
          break;

        case 8100:
          if (adb_status != 8100) {
            Serial.println("adb8100");
            lowbeam();
            adb_status = 100;
          }
          break;


        case 6101:
          if (adb_status != 6101) {
            Serial.println("adb6101");
            All_off();
            adb_status = 6101;
          }
          break;

        case 8101:
          if (adb_status != 8101) {
            Serial.println("adb8101");
            All_off();
            adb_status = 101;
          }
          break;

        case 6666:
          // if (adb_status != 6666) {
          Serial.println("adb6666_adb匹配远光：开");
          digitalWrite(io_adb_high, HIGH);
          //   adb_status = 6666;
          // }
          break;
        case 6777:
          // if (adb_status != 6777) {
          Serial.println("adb 6777_adb匹配远光：关闭");
          digitalWrite(io_adb_high, LOW);
          // adb_status = 6777;
          // }
          break;
        case 899:
          if (adb_status != 899) {
            adb_L1_on();
            delay(22);
            All_off();
            adb_L2_on();
            delay(22);
            All_off();
            adb_L3_on();
            delay(22);
            All_off();
            adb_L4_on();
            delay(22);
            All_off();
            adb_L5_on();
            delay(22);
            All_off();
            adb_L6_on();
            delay(22);
            All_off();
            adb_L7_on();
            delay(22);
            All_off();
            adb_L8_on();
            delay(22);
            All_off();
            adb_L9_on();
            delay(22);
            All_off();
            adb_L10_on();
            delay(22);
            All_off();
            adb_L11_on();
            delay(22);
            All_off();
            adb_L12_on();
            delay(22);
            All_off();
            adb_all_on();
            adb_status = 899;
          }
          break;

        default:
          // 如果 dataAfterPrefix 不是1-24中的任何一个,则不执行任何操作
          break;
      }
    }
    // }
  }
}
void process_data(const char *data) {

  String led1 = String(data).substring(0, 12);
  String led2 = String(data).substring(12, 24);
  String led3 = String(data).substring(24, 36);
  String led4 = String(data).substring(36, 48);
  String led5 = String(data).substring(48, 60);
  String led6 = String(data).substring(60, 72);
  String led7 = String(data).substring(72, 84);
  String led8 = String(data).substring(84, 96);
  String led9 = String(data).substring(96, 108);
  String hex_delay = String(data).substring(108, 110);
  // intdelay 是 16 进制的字符串，需要转换为整数
  int intdelay = strtol(hex_delay.c_str(), NULL, 16);

  String lh = String(data).substring(110, 112);
  String lr = String(data).substring(112, 114);

  // 不满00的输出00
  if (led1.length() % 2 != 0) {
    led1 += "00";
  }
  if (led2.length() % 2 != 0) {
    led2 += "00";
  }
  if (led3.length() % 2 != 0) {
    led3 += "00";
  }
  if (led4.length() % 2 != 0) {
    led4 += "00";
  }
  if (led5.length() % 2 != 0) {
    led5 += "00";
  }
  if (led6.length() % 2 != 0) {
    led6 += "00";
  }
  if (led7.length() % 2 != 0) {
    led7 += "00";
  }
  if (led8.length() % 2 != 0) {
    led8 += "00";
  }
  if (led9.length() % 2 != 0) {
    led9 += "00";
  }
  // 修正 lh 和 lr 的值
  if (lh.length() % 2 != 0) {
    lh += "00";
  }
  if (lr.length() % 2 != 0) {
    lr += "00";
  }
  // 修正 delay 的值
  // if (intdelay.length() % 2 != 0) {
  //   intdelay += "00";
  // }

  uint8_t led1_hex1 = (uint8_t)strtoul(led1.substring(0, 2).c_str(), NULL, 16);
  uint8_t led1_hex2 = (uint8_t)strtoul(led1.substring(2, 4).c_str(), NULL, 16);
  uint8_t led1_hex3 = (uint8_t)strtoul(led1.substring(4, 6).c_str(), NULL, 16);
  uint8_t led1_hex4 = (uint8_t)strtoul(led1.substring(6, 8).c_str(), NULL, 16);
  uint8_t led1_hex5 = (uint8_t)strtoul(led1.substring(8, 10).c_str(), NULL, 16);
  uint8_t led1_hex6 = (uint8_t)strtoul(led1.substring(10, 12).c_str(), NULL, 16);
  uint8_t led2_hex1 = (uint8_t)strtoul(led2.substring(0, 2).c_str(), NULL, 16);
  uint8_t led2_hex2 = (uint8_t)strtoul(led2.substring(2, 4).c_str(), NULL, 16);
  uint8_t led2_hex3 = (uint8_t)strtoul(led2.substring(4, 6).c_str(), NULL, 16);
  uint8_t led2_hex4 = (uint8_t)strtoul(led2.substring(6, 8).c_str(), NULL, 16);
  uint8_t led2_hex5 = (uint8_t)strtoul(led2.substring(8, 10).c_str(), NULL, 16);
  uint8_t led2_hex6 = (uint8_t)strtoul(led2.substring(10, 12).c_str(), NULL, 16);
  uint8_t led3_hex1 = (uint8_t)strtoul(led3.substring(0, 2).c_str(), NULL, 16);
  uint8_t led3_hex2 = (uint8_t)strtoul(led3.substring(2, 4).c_str(), NULL, 16);
  uint8_t led3_hex3 = (uint8_t)strtoul(led3.substring(4, 6).c_str(), NULL, 16);
  uint8_t led3_hex4 = (uint8_t)strtoul(led3.substring(6, 8).c_str(), NULL, 16);
  uint8_t led3_hex5 = (uint8_t)strtoul(led3.substring(8, 10).c_str(), NULL, 16);
  uint8_t led3_hex6 = (uint8_t)strtoul(led3.substring(10, 12).c_str(), NULL, 16);
  uint8_t led4_hex1 = (uint8_t)strtoul(led4.substring(0, 2).c_str(), NULL, 16);
  uint8_t led4_hex2 = (uint8_t)strtoul(led4.substring(2, 4).c_str(), NULL, 16);
  uint8_t led4_hex3 = (uint8_t)strtoul(led4.substring(4, 6).c_str(), NULL, 16);
  uint8_t led4_hex4 = (uint8_t)strtoul(led4.substring(6, 8).c_str(), NULL, 16);
  uint8_t led4_hex5 = (uint8_t)strtoul(led4.substring(8, 10).c_str(), NULL, 16);
  uint8_t led4_hex6 = (uint8_t)strtoul(led4.substring(10, 12).c_str(), NULL, 16);
  uint8_t led5_hex1 = (uint8_t)strtoul(led5.substring(0, 2).c_str(), NULL, 16);
  uint8_t led5_hex2 = (uint8_t)strtoul(led5.substring(2, 4).c_str(), NULL, 16);
  uint8_t led5_hex3 = (uint8_t)strtoul(led5.substring(4, 6).c_str(), NULL, 16);
  uint8_t led5_hex4 = (uint8_t)strtoul(led5.substring(6, 8).c_str(), NULL, 16);
  uint8_t led5_hex5 = (uint8_t)strtoul(led5.substring(8, 10).c_str(), NULL, 16);
  uint8_t led5_hex6 = (uint8_t)strtoul(led5.substring(10, 12).c_str(), NULL, 16);
  uint8_t led6_hex1 = (uint8_t)strtoul(led6.substring(0, 2).c_str(), NULL, 16);
  uint8_t led6_hex2 = (uint8_t)strtoul(led6.substring(2, 4).c_str(), NULL, 16);
  uint8_t led6_hex3 = (uint8_t)strtoul(led6.substring(4, 6).c_str(), NULL, 16);
  uint8_t led6_hex4 = (uint8_t)strtoul(led6.substring(6, 8).c_str(), NULL, 16);
  uint8_t led6_hex5 = (uint8_t)strtoul(led6.substring(8, 10).c_str(), NULL, 16);
  uint8_t led6_hex6 = (uint8_t)strtoul(led6.substring(10, 12).c_str(), NULL, 16);
  uint8_t led7_hex1 = (uint8_t)strtoul(led7.substring(0, 2).c_str(), NULL, 16);
  uint8_t led7_hex2 = (uint8_t)strtoul(led7.substring(2, 4).c_str(), NULL, 16);
  uint8_t led7_hex3 = (uint8_t)strtoul(led7.substring(4, 6).c_str(), NULL, 16);
  uint8_t led7_hex4 = (uint8_t)strtoul(led7.substring(6, 8).c_str(), NULL, 16);
  uint8_t led7_hex5 = (uint8_t)strtoul(led7.substring(8, 10).c_str(), NULL, 16);
  uint8_t led7_hex6 = (uint8_t)strtoul(led7.substring(10, 12).c_str(), NULL, 16);
  uint8_t led8_hex1 = (uint8_t)strtoul(led8.substring(0, 2).c_str(), NULL, 16);
  uint8_t led8_hex2 = (uint8_t)strtoul(led8.substring(2, 4).c_str(), NULL, 16);
  uint8_t led8_hex3 = (uint8_t)strtoul(led8.substring(4, 6).c_str(), NULL, 16);
  uint8_t led8_hex4 = (uint8_t)strtoul(led8.substring(6, 8).c_str(), NULL, 16);
  uint8_t led8_hex5 = (uint8_t)strtoul(led8.substring(8, 10).c_str(), NULL, 16);
  uint8_t led8_hex6 = (uint8_t)strtoul(led8.substring(10, 12).c_str(), NULL, 16);
  uint8_t led9_hex1 = (uint8_t)strtoul(led9.substring(0, 2).c_str(), NULL, 16);
  uint8_t led9_hex2 = (uint8_t)strtoul(led9.substring(2, 4).c_str(), NULL, 16);
  uint8_t led9_hex3 = (uint8_t)strtoul(led9.substring(4, 6).c_str(), NULL, 16);
  uint8_t led9_hex4 = (uint8_t)strtoul(led9.substring(6, 8).c_str(), NULL, 16);
  uint8_t led9_hex5 = (uint8_t)strtoul(led9.substring(8, 10).c_str(), NULL, 16);
  uint8_t led9_hex6 = (uint8_t)strtoul(led9.substring(10, 12).c_str(), NULL, 16);

  // delay(1);
  // All_off();

  kais1(led1_hex1, led1_hex2, led1_hex3, led1_hex4, led1_hex5, led1_hex6);
  kais2(led2_hex1, led2_hex2, led2_hex3, led2_hex4, led2_hex5, led2_hex6);
  kais3(led3_hex1, led3_hex2, led3_hex3, led3_hex4, led3_hex5, led3_hex6);
  kais4(led4_hex1, led4_hex2, led4_hex3, led4_hex4, led4_hex5, led4_hex6);
  kais5(led5_hex1, led5_hex2, led5_hex3, led5_hex4, led5_hex5, led5_hex6);
  kais6(led6_hex1, led6_hex2, led6_hex3, led6_hex4, led6_hex5, led6_hex6);
  kais7(led7_hex1, led7_hex2, led7_hex3, led7_hex4, led7_hex5, led7_hex6);
  kais8(led8_hex1, led8_hex2, led8_hex3, led8_hex4, led8_hex5, led8_hex6);
  kais9(led9_hex1, led9_hex2, led9_hex3, led9_hex4, led9_hex5, led9_hex6);
  // 打印出 intdelay.toInt() 值
  Serial.print("delay:");
  Serial.print(intdelay);
  Serial.println("毫秒");

  delay(intdelay * 1);
  // delay(1);
  // All_off();
  // 循环结束后统计次数
  count++;
  Serial.print("帧数:");
  Serial.println(count);
}
void kais1(uint8_t k1, uint8_t k2, uint8_t k3, uint8_t k4, uint8_t e1, uint8_t e2) {
  int myArray[] = {
    0x33, 0x20, 0x10,
    0x00, 0x00, 0x00, k1,
    0x00, 0x00, 0x00, k2,
    0x00, 0x00, 0x00, k3,
    0x00, 0x00, 0x00, k4,
    e1, e2
  };

  Serial.println("1 数组内容:");
  for (size_t i = 0; i < sizeof(myArray) / sizeof(myArray[0]); i++) {
    Serial.printf("0x%02X ", myArray[i]);  // 以16进制格式打印
  }
  Serial.println();  // 换行
  int size = sizeof(myArray) / sizeof(myArray[0]);
  setArray(myArray, size);
}
void kais2(uint8_t k1, uint8_t k2, uint8_t k3, uint8_t k4, uint8_t e1, uint8_t e2) {
  int myArray[] = {
    0x33, 0x61, 0x10,
    0x00, 0x00, 0x00, k1,
    0x00, 0x00, 0x00, k2,
    0x00, 0x00, 0x00, k3,
    0x00, 0x00, 0x00, k4,
    e1, e2
  };
  int size = sizeof(myArray) / sizeof(myArray[0]);
  setArray(myArray, size);
}
void kais3(uint8_t k1, uint8_t k2, uint8_t k3, uint8_t k4, uint8_t e1, uint8_t e2) {
  int myArray[] = {
    0x33, 0xE2, 0x10,
    0x00, 0x00, 0x00, k1,
    0x00, 0x00, 0x00, k2,
    0x00, 0x00, 0x00, k3,
    0x00, 0x00, 0x00, k4,
    e1, e2
  };
  int size = sizeof(myArray) / sizeof(myArray[0]);
  setArray(myArray, size);
}
void kais4(uint8_t k1, uint8_t k2, uint8_t k3, uint8_t k4, uint8_t e1, uint8_t e2) {
  int myArray[] = {
    0x33, 0xA3, 0x10,
    0x00, 0x00, 0x00, k1,
    0x00, 0x00, 0x00, k2,
    0x00, 0x00, 0x00, k3,
    0x00, 0x00, 0x00, k4,
    e1, e2
  };
  int size = sizeof(myArray) / sizeof(myArray[0]);
  setArray(myArray, size);
}
void kais5(uint8_t k1, uint8_t k2, uint8_t k3, uint8_t k4, uint8_t e1, uint8_t e2) {
  int myArray[] = {
    0x33, 0x64, 0x10,
    0x00, 0x00, 0x00, k1,
    0x00, 0x00, 0x00, k2,
    0x00, 0x00, 0x00, k3,
    0x00, 0x00, 0x00, k4,
    e1, e2
  };
  int size = sizeof(myArray) / sizeof(myArray[0]);
  setArray(myArray, size);
}
void kais6(uint8_t k1, uint8_t k2, uint8_t k3, uint8_t k4, uint8_t e1, uint8_t e2) {
  int myArray[] = {
    0x33, 0x25, 0x10,
    0x00, 0x00, 0x00, k1,
    0x00, 0x00, 0x00, k2,
    0x00, 0x00, 0x00, k3,
    0x00, 0x00, 0x00, k4,
    e1, e2
  };
  int size = sizeof(myArray) / sizeof(myArray[0]);
  setArray(myArray, size);
}
void kais7(uint8_t k1, uint8_t k2, uint8_t k3, uint8_t k4, uint8_t e1, uint8_t e2) {
  int myArray[] = {
    0x33, 0xA6, 0x10,
    0x00, 0x00, 0x00, k1,
    0x00, 0x00, 0x00, k2,
    0x00, 0x00, 0x00, k3,
    0x00, 0x00, 0x00, k4,
    e1, e2
  };
  int size = sizeof(myArray) / sizeof(myArray[0]);
  setArray(myArray, size);
}
void kais8(uint8_t k1, uint8_t k2, uint8_t k3, uint8_t k4, uint8_t e1, uint8_t e2) {
  int myArray[] = {
    0x33, 0xE7, 0x10,
    0x00, 0x00, 0x00, k1,
    0x00, 0x00, 0x00, k2,
    0x00, 0x00, 0x00, k3,
    0x00, 0x00, 0x00, k4,
    e1, e2
  };
  int size = sizeof(myArray) / sizeof(myArray[0]);
  setArray(myArray, size);
}
void kais9(uint8_t k1, uint8_t k2, uint8_t k3, uint8_t k4, uint8_t e1, uint8_t e2) {
  int myArray[] = {
    0x33, 0xA8, 0x10,
    0x00, 0x00, 0x00, k1,
    0x00, 0x00, 0x00, k2,
    0x00, 0x00, 0x00, k3,
    0x00, 0x00, 0x00, k4,
    e1, e2
  };
  int size = sizeof(myArray) / sizeof(myArray[0]);
  setArray(myArray, size);
}
void array_init() {
  int myArray[] = {
    0x87, 0xBF, 0x83, 0x01, 0xB9, 0xA0,
    0x87, 0x20, 0x80, 0xB1, 0x88, 0xCA,
    0x87, 0x61, 0x80, 0xB1, 0xD8, 0xDE,
    0x87, 0xE2, 0x80, 0xB1, 0x29, 0x36,
    0x87, 0xA3, 0x80, 0xB1, 0x79, 0x22,
    0x87, 0x64, 0x80, 0xB1, 0xC8, 0xDF,
    0x87, 0x25, 0x80, 0xB1, 0x98, 0xCB,
    0x87, 0xA6, 0x80, 0xB1, 0x69, 0x23,
    0x87, 0xE7, 0x80, 0xB1, 0x39, 0x37,
    0x87, 0xA8, 0x80, 0xB1, 0x08, 0xE0,

    // all of
    0x33, 0xBF, 0x10,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x13, 0x75,

    0x33, 0xBF, 0x00,
    0x55, 0xAA, 0xFF, 0x00,
    0x54, 0xA9, 0xFE, 0x15,
    0x53, 0xA8, 0xFD, 0x2A,
    0x52, 0xA7, 0xFC, 0x3F,
    0x7F, 0xEB
  };
  int size = sizeof(myArray) / sizeof(myArray[0]);
  setArray(myArray, size);
}
void adb_all_on() {
  kais(0x20, 0x15, 0x15, 0x15, 0x15, 0x01, 0x46);
  kais(0x61, 0x14, 0x15, 0x15, 0x15, 0x47, 0xEF);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x14, 0x15, 0x15, 0x15, 0x8E, 0x8E);
  kais(0xA8, 0x15, 0x15, 0x15, 0x15, 0xAA, 0xCC);
}

void adb_L12_on() {
  kais(0x20, 0x15, 0x15, 0x15, 0x15, 0x01, 0x46);
  kais(0x61, 0x00, 0x14, 0x15, 0x15, 0x7A, 0x6B);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x14, 0x15, 0x15, 0x15, 0x8E, 0x8E);
  kais(0xA8, 0x15, 0x15, 0x15, 0x15, 0xAA, 0xCC);
}

void adb_L11_on() {
  kais(0x20, 0x15, 0x15, 0x15, 0x15, 0x01, 0x46);
  kais(0x61, 0x00, 0x00, 0x10, 0x15, 0x49, 0x6B);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x14, 0x15, 0x15, 0x15, 0x8E, 0x8E);
  kais(0xA8, 0x15, 0x15, 0x15, 0x15, 0xAA, 0xCC);
}

void adb_L10_on() {
  kais(0x20, 0x15, 0x15, 0x15, 0x15, 0x01, 0x46);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x14, 0x15, 0x15, 0x15, 0x8E, 0x8E);
  kais(0xA8, 0x15, 0x15, 0x15, 0x15, 0xAA, 0xCC);
}

void adb_L9_on() {
  kais(0x20, 0x00, 0x14, 0x15, 0x15, 0x3E, 0x43);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x14, 0x15, 0x15, 0x15, 0x8E, 0x8E);
  kais(0xA8, 0x15, 0x15, 0x15, 0x15, 0xAA, 0xCC);
}

void adb_L8_on() {
  kais(0x20, 0x00, 0x00, 0x10, 0x15, 0x0D, 0x43);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x14, 0x15, 0x15, 0x15, 0x8E, 0x8E);
  kais(0xA8, 0x15, 0x15, 0x15, 0x15, 0xAA, 0xCC);
}

void adb_L7_on() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x14, 0x15, 0x15, 0x15, 0x8E, 0x8E);
  kais(0xA8, 0x15, 0x15, 0x15, 0x15, 0xAA, 0xCC);
}

void adb_L6_on() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x14, 0x15, 0x15, 0x15, 0x8E, 0x8E);
  kais(0xA8, 0x00, 0x14, 0x15, 0x15, 0x95, 0xC9);
}

void adb_L5_on() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x14, 0x15, 0x15, 0x15, 0x8E, 0x8E);
  kais(0xA8, 0x00, 0x00, 0x10, 0x15, 0xA6, 0xC9);
}

void adb_L4_on() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x14, 0x15, 0x15, 0x15, 0x8E, 0x8E);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
}

void adb_L3_on() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x10, 0x15, 0x15, 0x81, 0xCA);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
}
void adb_L2_on() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x15, 0x41, 0xC9);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
}
void adb_L1_on() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
}

void adb_R1_on() {
  kais(0x20, 0x15, 0x15, 0x15, 0x15, 0x01, 0x46);
  kais(0x61, 0x14, 0x15, 0x15, 0x15, 0x47, 0xEF);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x14, 0x15, 0x15, 0x00, 0x4F, 0x41);
  kais(0xA8, 0x15, 0x15, 0x15, 0x15, 0xAA, 0xCC);
}

void adb_R2_on() {
  kais(0x20, 0x15, 0x15, 0x15, 0x15, 0x01, 0x46);
  kais(0x61, 0x14, 0x15, 0x15, 0x15, 0x47, 0xEF);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x14, 0x05, 0x00, 0x00, 0x8F, 0x42);
  kais(0xA8, 0x15, 0x15, 0x15, 0x15, 0xAA, 0xCC);
}

void adb_R3_on() {
  kais(0x20, 0x15, 0x15, 0x15, 0x15, 0x01, 0x46);
  kais(0x61, 0x14, 0x15, 0x15, 0x15, 0x47, 0xEF);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x15, 0x15, 0x15, 0x15, 0xAA, 0xCC);
}

void adb_R4_on() {
  kais(0x20, 0x15, 0x15, 0x15, 0x15, 0x01, 0x46);
  kais(0x61, 0x14, 0x15, 0x15, 0x15, 0x47, 0xEF);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x15, 0x15, 0x05, 0x00, 0xAA, 0xC0);
}

void adb_R5_on() {
  kais(0x20, 0x15, 0x15, 0x15, 0x15, 0x01, 0x46);
  kais(0x61, 0x14, 0x15, 0x15, 0x15, 0x47, 0xEF);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x15, 0x01, 0x00, 0x00, 0x99, 0xC0);
}

void adb_R6_on() {
  kais(0x20, 0x15, 0x15, 0x15, 0x15, 0x01, 0x46);
  kais(0x61, 0x14, 0x15, 0x15, 0x15, 0x47, 0xEF);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
}

void adb_R7_on() {
  kais(0x20, 0x15, 0x15, 0x05, 0x00, 0x01, 0x4A);
  kais(0x61, 0x14, 0x15, 0x15, 0x15, 0x47, 0xEF);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
}

void adb_R8_on() {
  kais(0x20, 0x15, 0x01, 0x00, 0x00, 0x32, 0x4A);
  kais(0x61, 0x14, 0x15, 0x15, 0x15, 0x47, 0xEF);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
}

void adb_R9_on() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x14, 0x15, 0x15, 0x15, 0x47, 0xEF);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
}

void adb_R10_on() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x14, 0x15, 0x05, 0x00, 0x47, 0xE3);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
}

void adb_R11_on() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x14, 0x01, 0x00, 0x00, 0x74, 0xE3);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
}

void adb_R12_on() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
}
void adb24() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x04, 0x00, 0x00, 0x00, 0x47, 0xE3);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb23() {
  // setp2
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x10, 0x01, 0x00, 0x00, 0x7A, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb22() {
  // setp3
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x14, 0x00, 0x00, 0xB6, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb21() {
  // setp4
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x05, 0x00, 0x85, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb20() {
  // setp5
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x10, 0x01, 0x49, 0x64);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb19() {
  // setp6
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x14, 0x49, 0x68);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb18() {
  // setp7
  // setp7
  kais(0x20, 0x05, 0x00, 0x00, 0x00, 0x01, 0x4A);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb17() {
  // setp8
  kais(0x20, 0x10, 0x01, 0x00, 0x00, 0x3E, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb16() {
  // setp9
  kais(0x20, 0x00, 0x14, 0x00, 0x00, 0xF2, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb15() {
  // setp10
  kais(0x20, 0x00, 0x00, 0x05, 0x00, 0xC1, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb14() {
  // setp11
  kais(0x20, 0x00, 0x00, 0x10, 0x01, 0x0D, 0x4C);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb13() {
  // setp12
  kais(0x20, 0x00, 0x00, 0x00, 0x14, 0x0D, 0x40);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb12() {
  // setp13
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x05, 0x00, 0x00, 0x00, 0xAA, 0xC0);  // u:9
}
void adb11() {
  // setp14
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x10, 0x01, 0x00, 0x00, 0x95, 0xC5);  // u:9
}
void adb10() {
  // setp15
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x14, 0x00, 0x00, 0x59, 0xC5);  // u:9
}
void adb9() {
  // setp16
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x05, 0x00, 0x6A, 0xC5);  // u:9
}
void adb8() {
  // setp17
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x10, 0x01, 0xA6, 0xC6);  // u:9
}
void adb7() {
  // setp18
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x14, 0xA6, 0xCA);  // u:9
}
void adb6() {
  // setp19
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x14, 0x00, 0x00, 0x00, 0xB0, 0x12);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb5() {
  // setp20
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x05, 0x00, 0x00, 0xBF, 0x56);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb4() {
  // setp21
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x10, 0x01, 0x00, 0x70, 0x06);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb3() {
  // setp22
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x14, 0x00, 0xB0, 0x05);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb2() {
  // setp23
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x05, 0x40, 0x05);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb1() {
  // setp24
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  // u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  // u:2
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);  // u:3
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);  // u:4
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);  // u:5
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);  // u:6
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);  // u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x10, 0x81, 0xCA);  // u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  // u:9
}
void adb99() {
  kais(0xBF, 0x15, 0x15, 0x15, 0x15, 0x1F, 0x7C);
}
void kais(uint8_t s1, uint8_t k1, uint8_t k2, uint8_t k3, uint8_t k4, uint8_t e1, uint8_t e2) {

  int myArray[] = {
    0x33, s1, 0x10,
    0x00, 0x00, 0x00, k1,
    0x00, 0x00, 0x00, k2,
    0x00, 0x00, 0x00, k3,
    0x00, 0x00, 0x00, k4,
    e1, e2
  };

  int size = sizeof(myArray) / sizeof(myArray[0]);
  setArray(myArray, size);
}
void All_off() {
  int myArray[] = {
    0x33, 0xBF, 0x10,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x13, 0x75
  };

  int size = sizeof(myArray) / sizeof(myArray[0]);
  setArray(myArray, size);
}
void setArray(int arr[], int size) {
  //  开灯
  for (int i = 0; i < size; i++) {
    uart.write(arr[i]);
  }
}
void sendDataOverUART(uint8_t *data, size_t length) {
  uart.write(1);  // 发送起始位
  for (size_t i = 0; i < length; i++) {
    uart.write(data[i]);
  }
  uart.write(0);  // 发送停止位
}
void arrayinit() {
  uint8_t dataToSend3[] = {
    0x87, 0xBF, 0x83, 0x01, 0xB9, 0xA0,
    0x87, 0x20, 0x80, 0xB1, 0x88, 0xCA,
    0x87, 0x61, 0x80, 0xB1, 0xD8, 0xDE,
    0x87, 0xE2, 0x80, 0xB1, 0x29, 0x36,
    0x87, 0xA3, 0x80, 0xB1, 0x79, 0x22,
    0x87, 0x64, 0x80, 0xB1, 0xC8, 0xDF,
    0x87, 0x25, 0x80, 0xB1, 0x98, 0xCB,
    0x87, 0xA6, 0x80, 0xB1, 0x69, 0x23,
    0x87, 0xE7, 0x80, 0xB1, 0x39, 0x37,
    0x87, 0xA8, 0x80, 0xB1, 0x08, 0xE0,

    0x33, 0xBF, 0x00,
    0x55, 0xAA, 0xFF, 0x00,
    0x54, 0xA9, 0xFE, 0x15,
    0x53, 0xA8, 0xFD, 0x2A,
    0x52, 0xA7, 0xFC, 0x3F,
    0x7F, 0xEB

  };
  sendDataOverUART(dataToSend3, sizeof(dataToSend3) / sizeof(dataToSend3[0]));
}
void saveDataToFile(const String &data) {
  // 尝试挂载文件系统
  if (!SPIFFS.begin()) {
    Serial.println("无法挂载文件系统");
    return;
  }

  // 检查文件是否存在
  if (!SPIFFS.exists("/low.txt")) {
    // 如果文件不存在，则创建一个空文件
    File newFile = SPIFFS.open("/low.txt", "w");
    if (!newFile) {
      Serial.println("无法创建文件");
      return;
    }
    newFile.close();
  }

  // 现在可以打开文件以追加数据
  File file = SPIFFS.open("/low.txt", "a");
  if (!file) {
    Serial.println("无法打开文件3");
    return;
  }


  // 将数据写入文件
  int bytesWritten = file.println(data);
  Serial.println("数据:");
  Serial.println(data);
  if (bytesWritten > 0) {
    Serial.println("数据保存成功");
  } else {
    Serial.println("写入数据失败");
  }
}
void clrDataToFile(const String &data) {
  // 初始化 SPIFFS
  if (!SPIFFS.begin(true)) {
    Serial.println("SPIFFS 初始化失败");
    return;
  }

  // 打开文件
  file = SPIFFS.open("/low.txt", FILE_WRITE);
  if (!file) {
    Serial.println("无法打开文件1");
    return;
  }

  // 清空文件内容
  file.close();                                // 关闭文件
  file = SPIFFS.open("/low.txt", FILE_WRITE);  // 重新以写入模式打开文件

  if (file.size() == 0) {
    Serial.println("文件已成功清空1");
  } else {
    Serial.println("文件清空失败");
  }
  // 关闭文件
  file.close();
}
void love11() {
  kais(0x20, 0x00, 0x00, 0x11, 0x10, 0xF0, 0x80);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //u:4
  kais(0x64, 0x00, 0x10, 0x14, 0x04, 0xA5, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x01, 0x11, 0x00, 0x00, 0x64, 0x14);  //u:9
}
void love12() {
  //setp43
  kais(0x20, 0x00, 0x10, 0x14, 0x10, 0xF1, 0x40);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x04, 0x00, 0x00, 0x00, 0xDA, 0x67);  //u:4
  kais(0x64, 0x00, 0x00, 0x11, 0x10, 0xA4, 0x65);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x11, 0x00, 0x00, 0x00, 0x9A, 0xD4);  //u:9
}
void love13() {
  //setp44
  kais(0x20, 0x10, 0x04, 0x14, 0x10, 0x30, 0xD0);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x11, 0x00, 0x00, 0x00, 0xE8, 0xF2);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x11, 0x99, 0xA6);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x04, 0x00, 0x00, 0x00, 0xA8, 0x41);  //u:9
}
void love14() {
  //setp45
  kais(0x20, 0x04, 0x05, 0x14, 0x04, 0x0D, 0x5B);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x01, 0x11, 0x00, 0x00, 0x16, 0x32);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x04, 0x58, 0x69);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
}
void love15() {
  //setp46
  kais(0x20, 0x01, 0x05, 0x04, 0x01, 0x00, 0x9E);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x04, 0x48, 0xA4);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x04, 0x05, 0x01, 0x00, 0xD8, 0xF7);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
}
void love16() {
  //setp47
  kais(0x20, 0x01, 0x05, 0x01, 0x00, 0x0D, 0x5E);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x11, 0x89, 0x6B);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x10, 0x04, 0x04, 0x01, 0xE8, 0xB3);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
}
void love17() {
  //setp48
  kais(0x20, 0x01, 0x11, 0x00, 0x00, 0xCF, 0x9E);  //u:1
  kais(0x61, 0x00, 0x00, 0x11, 0x10, 0xB4, 0xA8);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x00, 0x10, 0x14, 0x04, 0x28, 0xE3);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
}
void love18() {

  kais(0x20, 0x11, 0x00, 0x00, 0x00, 0x31, 0x5E);  //u:1
  kais(0x61, 0x00, 0x10, 0x14, 0x10, 0xB5, 0x68);  //u:2
  kais(0xE2, 0x04, 0x00, 0x00, 0x00, 0x9E, 0x4F);  //u:3
  kais(0xA3, 0x00, 0x00, 0x11, 0x10, 0x29, 0x2C);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
}
void love19() {
  //setp50
  kais(0x20, 0x04, 0x00, 0x00, 0x00, 0x03, 0xCB);  //u:1
  kais(0x61, 0x10, 0x04, 0x14, 0x10, 0x74, 0xF8);  //u:2
  kais(0xE2, 0x11, 0x00, 0x00, 0x00, 0xAC, 0xDA);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x11, 0x14, 0xEF);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
}
void love20() {
  //setp51
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //u:1
  kais(0x61, 0x04, 0x05, 0x14, 0x04, 0x49, 0x73);  //u:2
  kais(0xE2, 0x01, 0x11, 0x00, 0x00, 0x52, 0x1A);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x04, 0xD5, 0x20);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
}
void love10() {
  kais(0x20, 0x00, 0x00, 0x11, 0x10, 0xF0, 0x80);  //1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //4
  kais(0x64, 0x00, 0x10, 0x14, 0x04, 0xA5, 0xAA);  //5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //8
  kais(0xA8, 0x01, 0x11, 0x00, 0x00, 0x64, 0x14);  //9
}
void love9() {
  kais(0x20, 0x00, 0x00, 0x00, 0x11, 0xCD, 0x43);  //1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //4
  kais(0x64, 0x00, 0x04, 0x04, 0x01, 0x5B, 0x6A);  //5
  kais(0x25, 0x00, 0x00, 0x00, 0x04, 0x1C, 0x41);  //6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //8
  kais(0xA8, 0x01, 0x05, 0x01, 0x00, 0xA6, 0xD4);  //9
}
void love8() {
  kais(0x20, 0x00, 0x00, 0x00, 0x04, 0x0C, 0x8C);  //1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //4
  kais(0x64, 0x00, 0x04, 0x01, 0x00, 0x56, 0xAA);  //5
  kais(0x25, 0x00, 0x00, 0x00, 0x11, 0xDD, 0x8E);  //6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //8
  kais(0xA8, 0x01, 0x05, 0x04, 0x01, 0xAB, 0x14);  //9
}
void love7() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //4
  kais(0x64, 0x00, 0x10, 0x00, 0x00, 0x94, 0x6A);  //5
  kais(0x25, 0x00, 0x00, 0x11, 0x10, 0xE0, 0x4D);  //6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //8
  kais(0xA8, 0x04, 0x05, 0x14, 0x04, 0xA6, 0xD1);  //9
}
void love6() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //5
  kais(0x25, 0x00, 0x10, 0x14, 0x04, 0xE1, 0x82);  //6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //7
  kais(0xE7, 0x10, 0x00, 0x00, 0x00, 0xBE, 0x96);  //8
  kais(0xA8, 0x10, 0x04, 0x14, 0x10, 0x9B, 0x5A);  //9
}
void love5() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //5
  kais(0x25, 0x10, 0x04, 0x04, 0x01, 0x21, 0xD2);  //6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //7
  kais(0xE7, 0x04, 0x01, 0x00, 0x00, 0x83, 0x12);  //8
  kais(0xA8, 0x00, 0x10, 0x14, 0x10, 0x5A, 0xCA);  //9
}
void love4() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //5
  kais(0x25, 0x04, 0x05, 0x01, 0x00, 0x11, 0x96);  //6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //7
  kais(0xE7, 0x04, 0x04, 0x01, 0x00, 0x81, 0x82);  //8
  kais(0xA8, 0x00, 0x00, 0x11, 0x10, 0x5B, 0x0A);  //9
}
void love3() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //5
  kais(0x25, 0x01, 0x11, 0x00, 0x00, 0xDF, 0x53);  //6
  kais(0xA6, 0x00, 0x00, 0x00, 0x04, 0xC5, 0xED);  //7
  kais(0xE7, 0x04, 0x14, 0x04, 0x00, 0x80, 0x42);  //8
  kais(0xA8, 0x00, 0x00, 0x00, 0x11, 0x66, 0xC9);  //9
}
void love2() {
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //5
  kais(0x25, 0x11, 0x00, 0x00, 0x00, 0x21, 0x93);  //6
  kais(0xA6, 0x00, 0x00, 0x00, 0x11, 0x04, 0x22);  //7
  kais(0xE7, 0x04, 0x14, 0x10, 0x04, 0xB1, 0x82);  //8
  kais(0xA8, 0x00, 0x00, 0x00, 0x04, 0xA7, 0x06);  //9
}
void love1() {
  //setp51
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //5
  kais(0x25, 0x04, 0x00, 0x00, 0x00, 0x13, 0x06);  //6
  kais(0xA6, 0x00, 0x00, 0x11, 0x10, 0x39, 0xE1);  //7
  kais(0xE7, 0x10, 0x14, 0x10, 0x11, 0x40, 0x59);  //8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //9
}
void love() {
  //setp1
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x10, 0x91, 0x07);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x01, 0x00, 0x00, 0x00, 0xC6, 0xAF);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
  delay(116);

  All_off();
  //setp2
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //u:2
  kais(0xE2, 0x00, 0x00, 0x10, 0x04, 0x50, 0xCB);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x04, 0x01, 0x00, 0x00, 0xC7, 0x3A);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
  delay(116);

  All_off();
  //setp3
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //u:1
  kais(0x61, 0x04, 0x00, 0x00, 0x00, 0x47, 0xE3);  //u:2
  kais(0xE2, 0x00, 0x00, 0x04, 0x01, 0xA0, 0xCB);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x10, 0x04, 0x00, 0x00, 0xC8, 0x7E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x10, 0x81, 0xCA);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
  delay(116);

  All_off();
  //setp4
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //u:1
  kais(0x61, 0x10, 0x00, 0x00, 0x00, 0x77, 0xF7);  //u:2
  kais(0xE2, 0x00, 0x04, 0x01, 0x00, 0x9F, 0xCB);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x10, 0x04, 0x00, 0xF8, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x04, 0x81, 0xC5);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
  delay(116);

  All_off();
  //setp5
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //u:1
  kais(0x61, 0x04, 0x11, 0x00, 0x00, 0x87, 0xB3);  //u:2
  kais(0xE2, 0x00, 0x11, 0x00, 0x00, 0x50, 0x9B);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x11, 0x00, 0x38, 0x2D);  //u:7
  kais(0xE7, 0x00, 0x00, 0x04, 0x11, 0xB1, 0xCA);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
  delay(116);

  All_off();
  //setp6
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //u:1
  kais(0x61, 0x10, 0x04, 0x01, 0x00, 0x78, 0xF7);  //u:2
  kais(0xE2, 0x11, 0x00, 0x00, 0x00, 0xAC, 0xDA);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x11, 0x04, 0x22);  //u:7
  kais(0xE7, 0x00, 0x00, 0x11, 0x04, 0x7D, 0xC6);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
  delay(116);

  All_off();
  //setp7
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //u:1
  kais(0x61, 0x00, 0x10, 0x04, 0x01, 0xB4, 0xA7);  //u:2
  kais(0xE2, 0x04, 0x00, 0x00, 0x00, 0x9E, 0x4F);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x10, 0xD5, 0x2F);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x01, 0x00, 0x00, 0x00, 0x1F, 0x03);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x04, 0xC5, 0xED);  //u:7
  kais(0xE7, 0x00, 0x11, 0x04, 0x00, 0xB1, 0x96);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
  delay(116);

  All_off();
  //setp8
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);  //u:1
  kais(0x61, 0x00, 0x00, 0x11, 0x04, 0xB4, 0xA7);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x00, 0x00, 0x10, 0x04, 0x14, 0xE3);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x04, 0x01, 0x00, 0x00, 0x1E, 0x96);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x10, 0x04, 0x01, 0x00, 0xB1, 0x96);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //u:9
  delay(116);

  All_off();
  //setp9
  kais(0x20, 0x04, 0x00, 0x00, 0x00, 0x03, 0xCB);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x11, 0x89, 0x6B);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x00, 0x00, 0x04, 0x01, 0xE4, 0xE3);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x10, 0x04, 0x00, 0x00, 0x11, 0xD2);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x04, 0x01, 0x00, 0x00, 0x83, 0x12);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x04, 0xA7, 0x06);  //u:9
  delay(116);

  All_off();
  //setp10
  kais(0x20, 0x11, 0x00, 0x00, 0x00, 0x31, 0x5E);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x04, 0x48, 0xA4);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x00, 0x04, 0x01, 0x00, 0xDB, 0xE3);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x10, 0x04, 0x00, 0x21, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x10, 0x00, 0x00, 0x00, 0xBE, 0x96);  //u:8
  kais(0xA8, 0x00, 0x00, 0x00, 0x11, 0x66, 0xC9);  //u:9
  delay(116);

  All_off();
  //setp11
  kais(0x20, 0x04, 0x11, 0x00, 0x00, 0xC3, 0x9B);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x00, 0x11, 0x00, 0x00, 0x14, 0xB3);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x11, 0x00, 0xE1, 0x81);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x00, 0x00, 0x11, 0x04, 0x5B, 0x05);  //u:9
  delay(116);

  All_off();
  //setp12
  kais(0x20, 0x10, 0x04, 0x01, 0x00, 0x3C, 0xDF);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x11, 0x00, 0x00, 0x00, 0xE8, 0xF2);  //u:4
  kais(0x64, 0x00, 0x00, 0x00, 0x00, 0x59, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x11, 0xDD, 0x8E);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x00, 0x10, 0x04, 0x01, 0x5B, 0x05);  //u:9
  delay(116);

  All_off();
  //setp13
  kais(0x20, 0x00, 0x10, 0x04, 0x01, 0xF0, 0x8F);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x04, 0x00, 0x00, 0x00, 0xDA, 0x67);  //u:4
  kais(0x64, 0x00, 0x04, 0x00, 0x10, 0x6A, 0xA6);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x04, 0x1C, 0x41);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x10, 0x04, 0x01, 0x00, 0x97, 0x55);  //u:9
  delay(116);

  All_off();
  //setp14
  kais(0x20, 0x00, 0x00, 0x11, 0x04, 0xF0, 0x8F);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //u:4
  kais(0x64, 0x00, 0x10, 0x14, 0x04, 0xA5, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x04, 0x11, 0x00, 0x00, 0x68, 0x11);  //u:9
  delay(116);

  All_off();
  //setp15
  kais(0x20, 0x00, 0x00, 0x11, 0x04, 0xF0, 0x8F);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //u:4
  kais(0x64, 0x00, 0x10, 0x14, 0x04, 0xA5, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x01, 0x11, 0x00, 0x00, 0x64, 0x14);  //u:9
  delay(116);

  All_off();
  //setp16
  kais(0x20, 0x00, 0x00, 0x11, 0x14, 0xF1, 0x43);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //u:4
  kais(0x64, 0x00, 0x10, 0x14, 0x04, 0xA5, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x01, 0x11, 0x00, 0x00, 0x64, 0x14);  //u:9
  delay(116);

  All_off();
  //setp17
  kais(0x20, 0x00, 0x00, 0x11, 0x10, 0xF0, 0x80);  //u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //u:4
  kais(0x64, 0x00, 0x10, 0x14, 0x04, 0xA5, 0xAA);  //u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //u:8
  kais(0xA8, 0x01, 0x11, 0x00, 0x00, 0x64, 0x14);  //u:9
  delay(116);
}
void clrDataToFile_ble(const String &data) {
  // 初始化 SPIFFS
  if (!SPIFFS.begin(true)) {
    Serial.println("SPIFFS 初始化失败");
    return;
  }

  // 打开文件
  file = SPIFFS.open("/ble.txt", FILE_WRITE);
  if (!file) {
    Serial.println("无法打开文件1");
    return;
  }

  // 清空文件内容
  file.close();                                // 关闭文件
  file = SPIFFS.open("/ble.txt", FILE_WRITE);  // 重新以写入模式打开文件

  if (file.size() == 0) {
    Serial.println("ble 文件已成功清空");
  } else {
    Serial.println("ble 文件清空失败");
  }
  // 关闭文件
  file.close();
}
void ble_conn_img() {
  kais(0x20, 0x00, 0x00, 0x01, 0x15, 0xF1, 0x40);  //#u:1
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);  //#u:2
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);  //#u:3
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);  //#u:4
  kais(0x64, 0x00, 0x10, 0x15, 0x05, 0x59, 0xAA);  //#u:5
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);  //#u:6
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);  //#u:7
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //#u:8
  kais(0xA8, 0x15, 0x10, 0x00, 0x00, 0x59, 0x90);  //#u:9
}
class MyServerCallbacks : public BLEServerCallbacks {
  void onConnect(BLEServer *pServer) {
    // 当设备连接时触发
    Serial.println("已经他妈的连接上了？ ");
    // ESP.restart();
    ble_conn_img();
    ble_conn_img();
    ble_conn_img();
    ble_conn_img();
    ble_conn_img();
    ble_conn_img();
    ble_conn_img();
    ble_conn_img();
  }

  void onDisconnect(BLEServer *pServer) {
    // 当设备断开连接时触发
    Serial.println("断开 ");
    ESP.restart();
  }
};
class MyCharacteristicCallbacks : public BLECharacteristicCallbacks {
  bool is_first_data = true;

  void onWrite(BLECharacteristic *pCharacteristic) {
    std::string value = pCharacteristic->getValue();

    if (value.length() > 0) {
      // 检查是否以"88996"开头，并且后面跟着12位数字
      // if (value.find("88996") != std::string::npos && value.length() >= 17) {
      //   // 截取12位数字部分并打印
      //   std::string number = value.substr(value.find("88996") + 5, 12);
      //   Serial.print("检测到以88996开头的12位数字：");
      //   delay(5555);
      //   Serial.println(number.c_str());  // 将std::string转换为C风格的字符串
      //   if (writeBleFile(number.c_str(), "996000000069")) {
      //     Serial.println("UUID已写入到 ble.txt 文件中。");
      //     delay(5555);
      //     ESP.restart();
      //   } else {
      //     Serial.println("无法将UUID写入到 ble.txt 文件。");
      //   }
      //   return; // 在此处添加return语句，以便在截获到数据后停止程序
      // } else {
      if (value.find("1debug1") != std::string::npos) {
        Serial.println("调灯模式");  // 将std::string转换为C风格的字符串
        lowbeam();
      } else if (value.find("0loveB11") != std::string::npos) {
        Serial.println("示爱模式11");
        love11();
      } else if (value.find("0loveB12") != std::string::npos) {
        Serial.println("示爱模式12");
        love12();
      } else if (value.find("0loveB13") != std::string::npos) {
        Serial.println("示爱模式13");
        love13();
      } else if (value.find("0loveB14") != std::string::npos) {
        Serial.println("示爱模式14");
        love14();
      } else if (value.find("0loveB15") != std::string::npos) {
        Serial.println("示爱模式15");
        love15();
      } else if (value.find("0loveB16") != std::string::npos) {
        Serial.println("示爱模式16");
        love16();
      } else if (value.find("0loveB17") != std::string::npos) {
        Serial.println("示爱模式17");
        love17();
      } else if (value.find("0loveB18") != std::string::npos) {
        Serial.println("示爱模式18");
        love18();
      } else if (value.find("0loveB19") != std::string::npos) {
        Serial.println("示爱模式19");
        love19();
      } else if (value.find("0loveB20") != std::string::npos) {
        Serial.println("示爱模式20");
        love20();

      } else if (value.find("0love110") != std::string::npos) {
        Serial.println("示爱模式10");
        love10();

      } else if (value.find("0love109") != std::string::npos) {
        Serial.println("示爱模式09");
        love9();

      } else if (value.find("0love108") != std::string::npos) {
        Serial.println("示爱模式08");
        love8();

      } else if (value.find("0love107") != std::string::npos) {
        Serial.println("示爱模式07");
        love7();

      } else if (value.find("0love106") != std::string::npos) {
        Serial.println("示爱模式06");
        love6();

      } else if (value.find("0love105") != std::string::npos) {
        Serial.println("示爱模式05");
        love5();

      } else if (value.find("0love104") != std::string::npos) {
        Serial.println("示爱模式04");
        love4();

      } else if (value.find("0love103") != std::string::npos) {
        Serial.println("示爱模式03");
        love3();

      } else if (value.find("0love102") != std::string::npos) {
        Serial.println("示爱模式02");
        love2();

      } else if (value.find("0love101") != std::string::npos) {
        Serial.println("示爱模式01");
        love1();

      } else if (value.find("1love1") != std::string::npos) {
        Serial.println("示爱模式");
        love();

      } else {
        if (is_first_data) {
          Serial.println("开始");
          clrDataToFile("1");
          is_first_data = false;
        }

        for (int i = 0; i < value.length(); i++) {
          char c = value[i];
          if (isalnum(c)) {
            Serial.print(c);
            writeDataToFile(c);  // 将接收到的字符写入文件中
          }
        }

        // 如果接收到的值中包含"0end0"，表示数据接收完成
        if (value.find("0end0") != std::string::npos) {
          Serial.println("数据接收完成");
          download_over_img();
          file.close();  // 关闭文件句柄
          ESP.restart();
        }

        // 检查是否以"88996"开头，并且后面跟着12位数字
        if (value.find("0jjj0") != std::string::npos && value.length() >= 17) {
          // 截取12位数字部分并打印
          // Serial.print("检测到以88996开头的12位数字：");
          std::string number = value.substr(value.find("0jjj0") + 5, 12);

          // delay(5555);
          Serial.println(number.c_str());  // 将std::string转换为C风格的字符串
          if (writeBleFile(number.c_str(), "996000000069")) {
            Serial.println("UUID已写入到 ble.txt 文件中。");
            delay(232);
            ESP.restart();
          }
        }

        if (value.find("0jjb0") != std::string::npos && value.length() >= 17) {
          // 截取12位数字部分并打印
          // Serial.print("检测到以88996开头的12位数字：");
          std::string number = value.substr(value.find("0jjb0") + 5, 12);

          // delay(5555);
          Serial.println(number.c_str());  // 将std::string转换为C风格的字符串
          clrDataToFile_ble("1");
          delay(232);
          ESP.restart();
        }
      }
    }
    // }
  }



  // 写入数据到文件
  void writeDataToFile(char data) {
    if (!file) {
      file = SPIFFS.open("/low.txt", "a");  // 如果文件未打开，则以追加模式打开文件
      if (!file) {
        Serial.println("Failed to open file for writing");
        return;
      }
    }

    size_t bytesWritten = file.write((const uint8_t *)&data, sizeof(data));
    if (bytesWritten != sizeof(data)) {
      Serial.println("Write failed");
    }

    delay(1);  // 添加延迟以释放资源
  }
};
void readAndPrintFile(const char *filename) {
  File file = SPIFFS.open(filename, "r");  // 以只读模式打开文件
  if (!file) {
    Serial.println("Failed to open file for reading");
    return;
  }

  String line = "";  // 清空 line 变量的值

  while (file.available()) {
    line = file.readStringUntil('\n');
    Serial.println(line);
    delay(3);
  }

  file.close();
}
void showtime_img() {
  arrayinit();
  String img = "000000000D4F0000000049670000000090CB00000000D4E30000000059AA110100002C0300000010C5E2041401004C4200000000A6C5F40000000000000D4F0000000049670000000090CB00000000D4E300140000A6AA110110052DC300000010C5E2041401004C421001050059C5F4000000141401038C0000000049670000000090CB11010000E56200140014A6A5110110052DC300000010C5E2041401004C421001050059C5F4000000141401038C100100147A68041100005E1F11010011256E00140014A6A5110110052DC300000010C5E2041401004C421001050059C5F40000000000000D4F0000000049670000000090CB00000000D4E30000000059AA05000000118700000000C42E041500007C1200000000A6C5F40000000000000D4F0000000049670000000090CB00000000D4E30000000059AA05001001118400000000C42E041500007C12000005006AC5F4000000140104CE4C0000000049670000000090CB10010000E7E300000504946905001001118400000000C42E041500007C120500050066C0F4000000140104CE4C00001414796B01000000924A10011015E7EF00000504946905001001118400000000C42E041500007C120500050066C0F40000";
  process_data_in_chunks(img);
}
void demo_img() {
  arrayinit();
  String img = "000000000D4F0000000049670000000090CB00000000D4E30000140069A9000000001D8200000000C42E00000000800600000000A6C53C0000000000000D4F0000000049670000000090CB00000000D4E3000404009AAA000000001D8200000000C42E00000000800600000000A6C53C0000000000040C8C0000000049670000000090CB00000000D4E30000150195A9000000001D8200000000C42E00000000800604000000A8413C0000000000140D400000000049670000000090CB00000000D4E30000150195A9000000001D8200000000C42E00000000800605000000AAC03C0000000000000D4F0000000049670000000090CB00000000D4E3001405006AAA000000001D8200000000C42E0000000080061501000099C03C0000000010150D430000000049670000000090CB00000000D4E3001415156AA6000000001D8200000000C42E0000000080061501000099C03C000000001515C1430000000049670000000090CB05000000D8E6001415156AA6000000141D8D00000000C42E0000000080061515000066C03C0000001415153E430000000049670000000090CB15010000EBE6001415156AA6000010151D8E00000000C42E00000000800615150500AAC03C0000101515150D430000000049670000000090CB1515000014E6001415156AA600001515D18E00000000C42E00000000800615151501AAC33C00001515151501460000000049670000000090CB15150500D8E6001415156AA6001415152E8E00000000C42E00000000800615151515AACC3C00001515150101490000001449680000000090CB15151501D8E500140014A6A5101515151D8E00000000C42E14000000B01210151515A6C93C000015150500014A00001015496B0000000090CB15151515D8EA0000000059AA15151515118B00000000C42E140500008F420014151595C93C000015150000CD4A00001515856B050000009CCE10151515D4EF0000000059AA15151501118400000014C421141501007F42000015156AC93C000015010000324A001415157A6B15010000AFCE00141515E7EF0000000059AA15150500118700001015C422141515004F4100001015A6C93C000005000000014A10151515496B1515000050CE0000151518EF0000000059AA15150000DD87000015150822141515058F4200000014A6CA3C0000000000000D4F1415151547EF151505009CCE00001015D4EF0000000059AA15010000228700141515F722141515158E8E00000000A6C53C0000000000000D4F1415150147E0151515019CCD00000014D4EC0000000059AA05000000118710151515C42200151515BE9A00000000A6C53C0000000000000D4F1415050047E3151515159CC200000000D4E30000000059AA000000001D8215151515C8270010151581CA04000000A8413C0000000000040C8C141500008BE31015151590C700000000D4E300000101A5AA000000001D8215151501C8280000141571CA04000000A8413C000000001010CD401401000074E300141515A3C700000000D4E3000414159AA6000000001D8215150500C82B0000001541C91501000099C0A0000000001010CD400400000047E3000015155CC700000000D4E3000414159AA6000000001D8215150000042B0000001081CA1501000099C0A0000000001010CD400000000049670000101590C700000000D4E3000414159AA6000000001D8215010000FB2B0000000080061501000099C0A0000000001010CD400000000049670000001490C400000000D4E3000414159AA6000000001D8205000000C82B0000000080061501000099C0A0000000001010CD400000000049670000000090CB00000000D4E3000414159AA6000000001D8200000000C42E0000000080061501000099C0A0000000001010CD400000000049670000000090CB00000000D4E3000414159AA6000000001D8200000000C42E0000000080061501000099C0A0000000001010CD400000000049670000000090CB00000000D4E3000414159AA6000000001D8200000000C42E0000000080061501000099C0A00000000000040C8C0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E00000000800604000000A841A00000000000140D400000000049670000000090CB00000000D4E30010150559AA000000041C4100000000C42E000000008006110000009AD4A00000000000040C8C0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E00000000800604000000A841A00000000010150D430000000049670000000090CB00000000D4E300041515A766000000001D8200000000C42E00000000800601010000A9D4A00000000000040C8C0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E00000000800604000000A841A00000000010150D430000000049670000000090CB00000000D4E300141510AAA5000000001D8200000000C42E00000000800601010000A9D4A00000000010150D430000000049670000000090CB00000000D4E300141510AAA5000000001D8200000000C42E00000000800601010000A9D4A00000000010150D430000000049670000000090CB00000000D4E300141510AAA5000000001D8200000000C42E00000000800601010000A9D4A00000000010150D430000000049670000000090CB00000000D4E300141510AAA5000000001D8200000000C42E00000000800601010000A9D4A00000000010150D430000000049670000000090CB00000000D4E300141510AAA5000000001D8200000000C42E00000000800601010000A9D4A00000000010150D430000000049670000000090CB00000000D4E300141510AAA5000000001D8200000000C42E00000000800601010000A9D4A00000000010150D430000000049670000000090CB00000000D4E300141510AAA5000000001D8200000000C42E00000000800601010000A9D4A00000000010150D430000000049670000000090CB00000000D4E300141510AAA5000000001D8200000000C42E00000000800601010000A9D4A00000000000040C8C0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E00000000800604000000A841A00000000000140D400000000049670000000090CB00000000D4E300041511A6A5000000001D8200000000C42E00000000800605010000A750A00000000000040C8C0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E00000000800604000000A841A000000000111131400000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006111100005A84A000000000111131400000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006111100005A84A000000000111131400000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006111100005A84A000000000111131400000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006111100005A84A000000000111131400000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006111100005A84A000000000111131400000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006111100005A84A000000000111131400000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006111100005A84A000000000111131400000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006111100005A84A00000000000040C8C0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E00000000800604000000A841A0000000001515C1430000000049670000000090CB01000000D66200041511A6A5000000101C4E00000000C42E0000000080061515000066C0A0000010151404F08F0000000049670000000090CB05050000E7B6001401155AA5000014142D8E00000000C42E000000008006040515015B12A0000015050414F1450000000049670000000090CB1505040028E60000150195A900041415DE8E00000000C42E0000000080060504141569CCA00000050510113FD50000001449680000000090CB1015140028E00014141496A600051501EED100000000C42E14000000B01211011414A748A00000010111113E5100001015496B0000000090CB0414151029680014141496A601150504205000000000C42E140500008F42111110109A8BA00000010111113E5100001015496B0000000090CB0414151029680014141496A601150504205014000000F43A140500008F42111110109A8BA00000010111113E5100001015496B0000000090CB0414151029680014141496A601150504205014100501343A140500048E81111110109A8BA00000010111113E5100001015496B0000000090CB0414151029680014141496A615150504104410100105CABD140500008F42111110109A8BA00000010111113E5100001015496B0000000090CB041415102968001415156AA615150505D18400000000C42E140500008F42111110109A8BA00000010111113E5100001015496B040000009E4F14141515D7FB0014141496A601150504205000000000C42E140500008F42111110109A8BA00000010111113E510400101547EF1410050160DF04141515E96B0014141496A601150504205000000000C42E140500008F42111110109A8BA00000010111113E5100001015496B000001056D080414151029680014141496A601150504205000000000C42E140500008F42111110109A8BA00000010111113E5100001015496B0000000090CB0414151029680014141496A601150504205000000000C42E140500008F42111110109A8BA0000001101500CFCD0000151184A801000000924A150015112BB9000400106AA61115001512CC00000010C5E20415010041D2001501106859A00000101404003D1F00000110756B0000000090CB1111101528AE0000000059AA150111111E8800000010C5E20404010081820004050199C5A0000014050000020B0000000049670000000090CB001501041A700000000059AA01100100EF0300000010C5E20000000080060000140556C5A00000040100040F980000000049670000000090CB00040000E62300000101A5AA00100000D04200000000C42E00000000800604000000A841A000000000111131400000000049670000000090CB04000000DA670004151466A6000000101C4E00000000C42E000000008006111500006844A0000000101514CD430000000049670000000090CB15000000E676001415116B6500001010DD8D00000000C42E000000008006011505009AD4A00000101414053CDF0000000049670000000090CB1111000028A2001400156765000014142D8E00000000C42E000000008006000515015596A00000140505010FCB0000000049670000000090CB0515010017B600000504946900041415DE8E00000000C42E000000008006010414156748A0000005150114CE150000000448A40000000090CB14050501D66700141500AB6900051501EED100000000C42E14000000B0120101141499D8A0000011111015F1020000001588A80000000090CB10141405E57300141510AAA500051501EED100000000C42E14000000B0120101141499D8A0000011111015F1020000001588A80000000090CB10141405E57300141510AAA500051501EED100000000C42E14000000B0120101141499D8A0000011111015F1020000001588A80000000090CB10141405E57300141510AAA500051501EED100000000C42E14000000B0120101141499D8A0000011111015F1020000001588A80000000090CB10141405E57300141510AAA500051501EED100000000C42E14000000B0120101141499D8A0000011111015F1020000001588A80000000090CB10141405E57300141510AAA500051501EED100000000C42E14000000B0120101141499D8A0000011111015F1020000001588A80000000090CB10141405E57300141510AAA500051501EED100000000C42E14000000B0120101141499D8A0000011111015F1020000001588A80000000090CB10141405E57300141510AAA500051501EED100000000C42E14000000B0120101141499D8A0000011111015F1020000001588A80000000090CB10141405E57300141510AAA500051501EED100000000C42E14000000B0120101141499D8A0000011111015F1020000001588A80000000090CB10141405E57300141510AAA500051501EED100000000C42E14000000B0120101141499D8A0000005150114CE150000000448A40000000090CB14050501D66700001500546900041415DE8E00000000C42E000000008006010414156748A00000140505010FCB0000000049670000000090CB0515010017B600140004A769000014142D8E00000000C42E000000008006000515015596A00000101414053CDF0000000049670000000090CB1111000028A200140515AB6500001010DD8D00000000C42E000000008006011505009AD4A0000000101514CD430000000049670000000090CB15000000E67600041511A6A5000000101C4E00000000C42E000000008006111500006844A000000000111131400000000049670000000090CB04000000DA67000414145B66000000001D8200000000C42E0000000080061501000099C0A0000000000015CC800000000049670000000090CB00000000D4E300001405A9AA000000001D8200000000C42E00000000800605000000AAC0A00000000000000D4F0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E00000000800600000000A6C5A00000000000000D4F0000000049670000000090CB00000000D4E30010010569A9000000001D8200000000C42E00000000800600000000A6C53C0000000000000D4F0000000049670000000090CB04000000DA670010010569A9000000041C4100000000C42E00000000800600000000A6C53C0000000000000D4F0000000049670000000090CB14000000E4F70010010569A900000005DD8100000000C42E00000000800600000000A6C53C0000000000000D4F0000000049670000000090CB1410000029370010010569A900000105E04100000000C42E00000000800600000000A6C53C0000000000000D4F0000000049670000000090CB1410010014F70010010569A9001001052D8100000000C42E00000000800600000000A6C53C0000000000000D4F0000000049670000000090CB14100101D5370010010569A910100105131100000000C42E00000000800600000000A6C53C0000000000000D4F00000400B8A701000000924A14000105193400100104A86914100005205500000004C5ED00000100BDC600000000A6C53C0000110110113D01000414144BAB010100009FDA01111015163E00040504A6A9050510112F1800000014C421001501004F560505050059903C0000110110113D01000414144BAB010100009FDA01111015163E00040504A6A9050510112F1800000014C421001501004F560505050059903C0000110110113D01000414144BAB010100009FDA01111015163E00040504A6A9050510112F1800000014C421001501004F560505050059903C0000110110113D01000414144BAB010100009FDA01111015163E00040504A6A9050510112F1800000014C421001501004F560505050059903C0000110110113D01000414144BAB010100009FDA01111015163E00040504A6A9050510112F1800000014C421001501004F560505050059903C0000110110113D01000414144BAB010100009FDA01111015163E00040504A6A9050510112F1800000014C421001501004F560505050059903C0000110110113D01000414144BAB010100009FDA01111015163E00040504A6A9050510112F1800000014C421001501004F560505050059903C000005150014F3D50000141078A801000000924A11001511253D000404115AA615050414E18800000000C42E140500008F420115000056D43C000011050500C20E0000101089680000000090CB04141510296800141410976510151400E18100000000C42E14000000B01211010014974B3C0000011514010C9D0000001048AB0000000090CB1015140028E00000150455AA00141510EE8D00000000C42E00000000800605001015AACC3C0000010515143D520000000049670000000090CB1505040028E600040001AAAA00001511D04D00000000C42E000000008006000015016AC63C000000051411C2100000000049670000000090CB05050000E7B6000404149AA5000010151D8E00000000C42E0000000080060014050095C53C0000000414140F830000000049670000000090CB01010000DBF2001414155766000000141D8D00000000C42E000000008006101500006AC53C000000001501C14C0000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006101500006AC53C000000001501C14C0000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006101500006AC53C000000001501C14C0000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006101500006AC53C000000001501C14C0000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006101500006AC53C000000001501C14C0000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006101500006AC53C000000001501C14C0000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006101500006AC53C000000001501C14C0000000049670000000090CB04000000DA670014141496A6000000041C4100000000C42E000000008006101500006AC53C000000000005CD4C0000000049670000000090CB00000000D4E30010010569A9000000001D8200000000C42E0000000080061400000096D13C0000000000040C8C0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E00000000800604000000A8413C000000000105F08C0000000049670000000090CB04000000DA670010010569A9000000041C4100000000C42E000000008006141000005B113C00001010010503DC0000000049670000000090CB1410000029370010010569A900000105E04100000000C42E00000000800614100101A7113C000010100101021F0000000448A40000000090CB14100001E8F700100104A869101000052ED100000000C42E10000000BE961410010467123C0000100110013E4C00101404B56711000000ACDA150100112BEA0004010056AA15010011E28B00000000C42E00100100700604050114AADE3C0000100110013E4C00101404B56711000000ACDA150100112BEA0004010056AA15010011E28B00000000C42E00100100700604050114AADE3C0000100110013E4C00101404B56711000000ACDA150100112BEA0004010056AA15010011E28B00000000C42E00100100700604050114AADE3C0000100110013E4C00101404B56711000000ACDA150100112BEA0004010056AA15010011E28B00000000C42E00100100700604050114AADE3C0000100110013E4C00101404B56711000000ACDA150100112BEA0004010056AA15010011E28B00000000C42E00100100700604050114AADE3C0000100110013E4C00101404B56711000000ACDA150100112BEA0004010056AA15010011E28B00000000C42E00100100700604050114AADE3C0000100110013E4C00101404B56711000000ACDA150100112BEA0004010056AA15010011E28B00000000C42E00100100700604050114AADE3C0000100110013E4C00101404B56711000000ACDA150100112BEA0004010056AA15010011E28B00000000C42E00100100700604050114AADE3C0000100110013E4C00101404B56711000000ACDA150100112BEA0004010056AA15010011E28B00000000C42E00100100700604050114AADE3C0000100110013E4C00101404B56711000000ACDA150100112BEA0004010056AA15010011E28B00000000C42E00100100700604050114AADE3C0000100110013E4C00101404B56711000000ACDA150100112BEA0004010056AA15010011E28B00000000C42E00100100700604050114AADE3C000010000001F21F0000000448A40000000090CB14000001253700000100646A14000001EC5600000000C42E0000000080060400010494423C00001010010503DC0000000049670000000090CB04000000DA670010010569A900000005DD8100000000C42E00000000800614100105A6D23C000000000005CD4C0000000049670000000090CB00000000D4E30010010569A9000000041C4100000000C42E000000008006141000005B113C0000000000040C8C0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E00000000800604000000A8413C000000000105F08C0000000049670000000090CB04000000DA670010010569A9000000041C4100000000C42E000000008006141000005B113C00001010010503DC0000000049670000000090CB1410000029370010010569A900000105E04100000000C42E00000000800614100101A7113C00001010010503DC0000000049670000000090CB14100000293700100005546910000105DED100000000C42E10000000BE9610100101A9953C00000410010533C800000105B4A4040000009E4F14000105193400100005546914000105D05500000004C5ED100101008EC610100101A9953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C0000000000000D4F0000000049670000000090CB00000000D4E30000000059AA000000001D8200000000C42E00000000800604000000A8413C0000000000000D4F0000000049670000000090CB00000000D4E30000000059AA000000001D8200000000C42E00000000800604000000A8413C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C0000000000000D4F0000000049670000000090CB00000000D4E30000000059AA000000001D8200000000C42E00000000800604000000A8413C0000000000000D4F0000000049670000000090CB00000000D4E30000000059AA000000001D8200000000C42E00000000800604000000A8413C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000005140014FE4500001414796B01000000924A1100151524FE00100011546605051110D31800000014C421001501004F56100404019A953C000004100004CFC80000000448A40000000090CB1000010517B00010000155AA040001002EC600000000C42E000100008D961000000159953C000014000100009B0000000049670000000090CB04100101EBA700000100646A10000001E2D200000000C42E10000000BE960400010095813C0000101000013FDF0000000049670000000090CB101001001A7300000004586900100004D18100000000C42E000000008006001000046AC63C000000100104FC8C0000000049670000000090CB1410000029370010000155AA00000100204200000000C42E0000000080061000000159953C000000000101F14F0000000049670000000090CB14000000E4F70000010465A900000001DC4200000000C42E0000000080060400010095813C000000000005CD4C0000000049670000000090CB04000000DA670000000599A9000000041C4100000000C42E000000008006001000006B053C0000000000040C8C0000000049670000000090CB00000000D4E3001000055469000000001D8200000000C42E0000000080061000000098553C000000000005CD4C0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E0000000080061400000096D13C000000000005CD4C0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E0000000080061400000096D126000000001105314F0000000049670000000090CB00000000D4E30010150559AA000000001D8200000000C42E00000000800614110000568126000000001105314F0000000049670000000090CB00000000D4E30010150559AA000000001D8200000000C42E00000000800614110000568126000000001105314F0000000049670000000090CB00000000D4E30010150559AA000000001D8200000000C42E00000000800614110000568126000000001105314F0000000049670000000090CB00000000D4E30010150559AA000000001D8200000000C42E000000008006141100005681260000001015050D4F0000000049670000000090CB04000000DA670010150559AA000000041C4100000000C42E000000008006141501005981260000001015050D4F0000000049670000000090CB04000000DA670010150559AA000000041C4100000000C42E000000008006141501005981260000001015050D4F0000000049670000000090CB04000000DA670010150559AA000000041C4100000000C42E000000008006141501005981260000001015050D4F0000000049670000000090CB04000000DA670010150559AA000000041C4100000000C42E000000008006141501005981260000001015050D4F0000000049670000000090CB04000000DA670010150559AA000000041C4100000000C42E00000000800614150100598126000000001105314F0000000049670000000090CB00000000D4E30010150559AA000000001D8200000000C42E00000000800614110000568126000000001105314F0000000049670000000090CB00000000D4E30010150559AA000000001D8200000000C42E00000000800614110000568126000000001105314F0000000049670000000090CB00000000D4E30010150559AA000000001D8200000000C42E00000000800614110000568126000000000005CD4C0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E0000000080061400000096D126000000000005CD4C0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E0000000080061400000096D1260000000000040C8C0000000049670000000090CB00000000D4E300000101A5AA000000001D8200000000C42E00000000800604000000A841260000";
  process_data_in_chunks(img);
}
void download_img() {
  arrayinit();
  String img = "0400000003CB0000000049670000000090CB00000000D4E30000000059AA000000001D8200000000C42E00000000800600000004A7060C000004140000FCCB0000100149640000000090CB10051414E52F0000000059AA05051401DF1400000000C42E00050000BF56000005046B060C0000";
  process_data_in_chunks(img);
}
void download_over_img() {
  arrayinit();
  String img = "0105141001511004141074F804141001614C01051400D931000414105AA500051410131D100105043AED04141004B18201051410AADB64000001051410015100101410B568100105006FCB010504041931000414105AA5040414101009001410013B2D04140400804201051410AADB64000001051410015100001110B4A80514000063CE0105000128F2000414105AA51000141012DD00000514082104040100818201051410AADB64000001051410015100000011896B10010000A3CB01010114E63D000414105AA5051010101C4800001001C42D04010000831201051410AADB6400000105141001510000000448A4050000009CCE011010011BA1000414105AA510010110128E00000014C42110000000BE9601051410AADB640000040514100D540000000049670000000090CB10000514267C000414105AA5051400012F4700000000C42E00000000800601051404AAD46400001004141030D00000000049670000000090CB0414100125640000140069A910010504E34100000000C42E00000000800601050401AB146400001515151501461415151547EF151515159CC215151515D8EA001415156AA615151515118B15151515C827141515158E8E15151515AACC6400001515151501461014151544FB151515019CCD15151515D8EA001415156AA615151515118B10151515C422141515044E8215151515AACC6400001515151501460010151548AB151505009CCE15151515D8EA001415156AA615151515118B00141515F722141505008E8215151515AACC6400001515151501460000111574AB1515000050CE15151515D8EA001415156AA615151515118B00001515082214050100B28215151515AACC6400001515151501460000001588A815010000AFCE15151515D8EA001415156AA615151515118B00001015C42214010000BD8215151515AACC6400001515151501460000000448A4050000009CCE15151515D8EA001415156AA615151515118B00000014C42110000000BE9615151515AACC6400001415151503C70000000049670000000090CB15151515D8EA001415156AA615151515118B00000000C42E00000000800615151505AB006400001014151500D30000000049670000000090CB15151501D8E5001415156AA6101515151D8E00000000C42E000000008006151505016B00640000001015150C830000000049670000000090CB15150500D8E6001415156AA6001415152E8E00000000C42E000000008006151501005B006400000000111530830000000049670000000090CB1515000014E6001415156AA600001515D18E00000000C42E00000000800615110000540064000000000015CC800000000049670000000090CB15010000EBE6001415156AA6000010151D8E00000000C42E000000008006150000009450640000000000040C8C0000000049670000000090CB05000000D8E6001415156AA6000000141D8D00000000C42E00000000800604000000A841640000000000000D4F0000000049670000000090CB00000000D4E3001415156AA6000000001D8200000000C42E00000000800600000000A6C5640000000000000D4F0000000049670000000090CB00000000D4E30000150195A9000000001D8200000000C42E00000000800600000000A6C5640000000000000D4F0000000049670000000090CB00000000D4E30000000059AA000000001D8200000000C42E000000008006001000006B05FF0000000000000D4F0000000049670000000090CB00000000D4E300100000946A000000001D8200000000C42E000000008006001000006B05FF0000000000000D4F0000000049670000000090CB00000000D4E30010040065AA000000001D8200000000C42E000000008006001000006B05FF0000000000000D4F0000000049670000000090CB00000000D4E300100401A46A000000001D8200000000C42E000000008006001000006B05FF000000000001CC8F0000000049670000000090CB00000000D4E300100401A46A000000001D8200000000C42E000000008006001000006B05FF0000000004013D4F0000000049670000000090CB00000000D4E300100401A46A000000001D8200000000C42E000000008006001000006B05FF0000";
  process_data_in_chunks(img);
}

bool writeBleFile(const char *u1, const char *u2) {
  if (SPIFFS.begin()) {
    File file = SPIFFS.open("/ble.txt", "w");

    if (file) {
      String data = String(u1) + "," + String(u2);
      file.print(data);
      file.close();

      return true;  // 写入成功
    } else {
      Serial.println("无法打开 ble.txt 文件进行写入。");
    }
  } else {
    Serial.println("无法启动 SPIFFS 文件系统。");
  }

  return false;  // 写入失败
}

bool writeLoopFile(const char *u1) {
  if (SPIFFS.begin()) {
    File file = SPIFFS.open("/loop.txt", "w");

    if (file) {
      String data = String(u1);
      file.print(data);
      file.close();

      return true;  // 写入成功
    } else {
      Serial.println("无法打开 loop.txt 文件进行写入。");
    }
  } else {
    Serial.println("无法启动 SPIFFS 文件系统。");
  }

  return false;  // 写入失败
}
void readLoopconfig() {
  if (SPIFFS.begin()) {
    Serial.println("readLoopconfig SPIFFS已启动。");
    // 尝试打开文件
    File filebleloop = SPIFFS.open("/loop.txt", "r");
    if (filebleloop) {
      Serial.println("正在读取 loop.txt 文件...");
      // 读取文件内容
      LoopfileContent = filebleloop.readString();  // 修改此处
      filebleloop.close();

      loopCount = LoopfileContent.toInt();
      // 递增 loopCount 的值
      loopCount++;
      // 将递增后的值转换为字符串并写回 loop.txt 文件
      LoopfileContent = String(loopCount);
      writeLoopFile(LoopfileContent.c_str());
    } else {
      Serial.println("loop.txt 文件格式无效。");
      writeLoopFile("0");
    }
  } else {
    Serial.println("无法打开 loop.txt 文件。");
  }
}
void readBleconfig1() {
  if (SPIFFS.begin()) {
    Serial.println("read Ble config");
    // 尝试打开文件
    File fileble = SPIFFS.open("/ble.txt", "r");
    if (fileble) {
      Serial.println("正在读取 ble.txt 文件...");

      // 读取文件内容
      String fileContent = fileble.readString();  // 修改此处
      fileble.close();

      // 替换默认的UUID
      int index = fileContent.indexOf(',');
      if (index != -1) {
        String newServiceUUID = fileContent.substring(0, index);
        String newCharUUID = fileContent.substring(index + 1);

        String tempServiceUUID = "0000FFF0-0000-1000-8000-" + newServiceUUID;
        String tempCharUUID = "0000FFF1-0000-1000-8000-" + newServiceUUID;
        tempdeviceNameUUID = "array" + newServiceUUID;

        serviceUUID = tempServiceUUID.c_str();
        charUUID = tempCharUUID.c_str();
        deviceName = tempdeviceNameUUID.c_str();

        Serial.print("readBleconfig: 读取到了 ble.txt ");


        // 初始化BLE设备
        BLEDevice::init(deviceName);
        pServer = BLEDevice::createServer();
        pServer->setCallbacks(new MyServerCallbacks());
        pService = pServer->createService(serviceUUID);
        pCharacteristic = pService->createCharacteristic(
          charUUID,
          BLECharacteristic::PROPERTY_READ | BLECharacteristic::PROPERTY_WRITE | BLECharacteristic::PROPERTY_NOTIFY);

        pCharacteristic->setCallbacks(new MyCharacteristicCallbacks());
        pCharacteristic->addDescriptor(new BLE2902());
        pService->start();
        arrayinit();
        All_off();
        pServer->getAdvertising()->start();
        Serial.println("等待连接...");
      } else {
        Serial.println("ble.txt 文件格式无效。");

        serviceUUID = "0000FFF0-0000-1000-8000-996000000000";
        charUUID = "0000FFF1-0000-1000-8000-996000000000";
        deviceName = "array996000000000";

        // Serial.print("readBleconfig服务 serviceUUID: ");
        // Serial.println(serviceUUID);
        // Serial.print("readBleconfig特征 charUUID: ");
        // Serial.println(charUUID);
        // Serial.print("readBleconfig设备 deviceName: ");
        // Serial.println(deviceName);

        // 初始化BLE设备
        BLEDevice::init(deviceName);
        pServer = BLEDevice::createServer();
        pServer->setCallbacks(new MyServerCallbacks());
        pService = pServer->createService(serviceUUID);
        pCharacteristic = pService->createCharacteristic(
          charUUID,
          BLECharacteristic::PROPERTY_READ | BLECharacteristic::PROPERTY_WRITE | BLECharacteristic::PROPERTY_NOTIFY);

        pCharacteristic->setCallbacks(new MyCharacteristicCallbacks());
        pCharacteristic->addDescriptor(new BLE2902());
        pService->start();
        arrayinit();
        All_off();
        pServer->getAdvertising()->start();
        Serial.println("等待连接...");


        // if (writeBleFile("996000000000", "0000FFF0-0000-1000-8000-996000000005")) {
        //   Serial.println("UUID已写入到 ble.txt 文件中。");
        // } else {
        //   Serial.println("无法将UUID写入到 ble.txt 文件。");
        // }
      }
    } else {
      Serial.println("无法打开 ble.txt 文件。");
    }
  } else {
    Serial.println("readBleconfig 无法启动 SPIFFS。");
  }
  Serial.print("readBleconfig服务 serviceUUID: ");
  Serial.println(serviceUUID);
  Serial.print("readBleconfig特征 charUUID: ");
  Serial.println(charUUID);
  Serial.print("readBleconfig设备 deviceName: ");
  Serial.println(deviceName);
}




void connectWiFi() {
  WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
  Serial.print("正在连接 WiFi");
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("\nWiFi 连接成功!");
}
bool downloadFile() {
  File file = SPIFFS.open(FILE_PATH, "w");  // 重新写入，确保干净
  if (!file) {
    Serial.println("打开文件失败");
    return false;
  }

  HTTPClient http;
  http.begin(FILE_URL);
  int httpCode = http.GET();
  Serial.printf("HTTP 响应码: %d\n", httpCode);

  if (httpCode != HTTP_CODE_OK) {
    Serial.println("下载失败，服务器未返回有效数据");
    file.close();
    http.end();
    return false;
  }

  WiFiClient *stream = http.getStreamPtr();
  uint8_t buffer[BUFFER_SIZE];
  size_t len;
  String cleanData = "";  // 用于存储最终清理后的数据

  while (http.connected() && (len = stream->readBytes(buffer, sizeof(buffer))) > 0) {
    for (size_t i = 0; i < len; i++) {
      char c = buffer[i];

      // 只保留 0-9 和 A-F
      if ((c >= '0' && c <= '9') || (c >= 'A' && c <= 'F')) {
        cleanData += c;
      }
    }
    delay(10);
  }

  // **去除前面多余的字符**
  if (cleanData.length() > 2) {
    cleanData = cleanData.substring(2);
  }


  // **去除最后一位字符**
  if (cleanData.length() > 0) {
    cleanData.remove(cleanData.length() - 1);
  }


  // **保存到文件**
  file.print(cleanData);
  file.close();
  http.end();

  Serial.printf("文件下载完成，最终有效大小: %d 字节\n", cleanData.length());
  return true;
}
void printFileContent() {
  File file = SPIFFS.open(FILE_PATH, "r");
  if (!file) {
    Serial.println("打开文件失败");
    return;
  }

  Serial.println("文件内容:");

  if (file.size() == 0) {
    Serial.println("文件为空");
    file.close();
    return;
  }

  while (file.available()) {
    Serial.write(file.read());
  }

  file.close();
}
void cleanFileEnd() {
  File file = SPIFFS.open(FILE_PATH, "r");
  if (!file) {
    Serial.println("打开文件失败，无法清理结尾");
    return;
  }

  size_t fileSize = file.size();
  if (fileSize < 1) {
    Serial.println("文件为空，无需清理");
    file.close();
    return;
  }

  // **读取整个文件**
  uint8_t *buffer = (uint8_t *)malloc(fileSize);
  if (!buffer) {
    Serial.println("内存分配失败！");
    file.close();
    return;
  }

  file.read(buffer, fileSize);
  file.close();

  // **找到最后的有效字符**
  size_t validSize = fileSize;
  while (validSize > 0) {
    char c = buffer[validSize - 1];

    // **去除换行、回车、空字符**
    if (c != '\n' && c != '\r' && c != '\0') {
      break;
    }

    validSize--;  // 继续往前找
  }

  // **如果文件大小未变，不需要修剪**
  if (validSize == fileSize) {
    Serial.println("文件内容正常，无需修剪");
    free(buffer);
    return;
  }

  // **重新写入去除无效字符的内容**
  File newFile = SPIFFS.open(FILE_PATH, "w");
  if (!newFile) {
    Serial.println("重新写入文件失败！");
    free(buffer);
    return;
  }

  newFile.write(buffer, validSize);  // 仅写入有效数据
  newFile.close();
  free(buffer);

  Serial.printf("文件修剪完成，新大小: %d 字节\n", validSize);
}

void setup() {
  uart.begin(500000, SERIAL_8N1, 5, 4);
  Serial.begin(115200);
  if (!SPIFFS.begin(true)) {
    Serial.println("SPIFFS 挂载失败，尝试格式化...");
    SPIFFS.format();
    if (!SPIFFS.begin(true)) {
      Serial.println("格式化后仍然挂载失败！");
      return;
    }
  }

  Serial.println("SPIFFS 挂载成功！");

  Serial.printf("SPIFFS 总空间: %d, 已使用: %d, 剩余: %d\n",
                SPIFFS.totalBytes(), SPIFFS.usedBytes(), SPIFFS.totalBytes() - SPIFFS.usedBytes());

  connectWiFi();

  bool isDownloadFailed = false;
  while (!downloadFile()) {
    if (!isDownloadFailed) {
      Serial.println("下载失败，正在重试...");
      isDownloadFailed = true;
    }
    delay(2000);
  }
  cleanFileEnd();
  // 下载完成后打印文件内容
  printFileContent();


  // 打开文件
  File file3 = SPIFFS.open("/low.txt", "r");
  if (!file3) {
    Serial.println("Failed to open file for reading");
    return;
  }
  String array_play = "";

  // 读取并打印文件内容
  // Serial.println("File Content:");
  while (file.available()) {
    char c = file.read();
    array_play += c;
    // Serial.println(c);
  }
  file.close();
  Serial.println("静态开机完毕 .");

  writeLoopFile("0");
  showtime_img();
  Serial.println("循环模式，计数器归零");


  // 确保 array_play 已经正确初始化
  if (array_play != nullptr && array_play.length() > 0) {


    // array_play 不为空
    // Serial.println("array_play 不为空");
    Serial.println("loooooop array_play");
    process_data_in_chunks(array_play);


  } else {
    Serial.println(" 未正确初始化,无法进入循环模式");
  }
}


void process_data_in_chunks(const String &array_play) {
  int data_length = array_play.length();  // 使用 length() 方法获取字符串长度
  int count = data_length / 114;

  for (int i = 0; i < count; i++) {
    int start_index = i * 114;
    int end_index = start_index + 114;
    String sub_data = array_play.substring(start_index, end_index);
    process_data(sub_data.c_str());
  }
}
void high_beam() {
  kais(0x20, 0x00, 0x00, 0x00, 0x0C, 0x0D, 0x4A);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);
  kais(0x64, 0x00, 0x30, 0x3F, 0x0F, 0x59, 0xAA);
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x0C, 0x00, 0x00, 0x00, 0xB7, 0x09);
  delay(20);
  All_off();
  //setp2
  kais(0x20, 0x00, 0x00, 0x00, 0x03, 0x4D, 0x4E);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x0C, 0x00, 0x00, 0x00, 0xC5, 0x2F);
  kais(0x64, 0x00, 0x3C, 0x03, 0x3F, 0x5C, 0xBB);
  kais(0x25, 0x00, 0x00, 0x00, 0x0C, 0x1D, 0x87);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x30, 0x00, 0x00, 0x00, 0xE7, 0x35);
  delay(20);
  All_off();
  //setp3
  kais(0x20, 0x00, 0x00, 0x03, 0x00, 0x49, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3F, 0x00, 0x00, 0x00, 0x81, 0x1C);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x00, 0x00, 0x00, 0x3F, 0x5D, 0x92);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x30, 0x00, 0x00, 0xF2, 0xC4);
  delay(20);
  All_off();
  //setp4
  kais(0x20, 0x00, 0x30, 0x00, 0x00, 0x59, 0x4E);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3C, 0x33, 0x00, 0x00, 0xC4, 0x2E);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x00, 0x00, 0x33, 0x0F, 0x59, 0x82);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x03, 0x00, 0xE2, 0xC5);
  delay(20);
  All_off();
  //setp5
  kais(0x20, 0x30, 0x00, 0x00, 0x00, 0x4C, 0xBF);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3C, 0x3C, 0x03, 0x00, 0xC1, 0xDE);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x00, 0x30, 0x0F, 0x0F, 0x5D, 0x86);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x03, 0xE6, 0xC4);
  delay(20);
  All_off();
  //setp6
  kais(0x20, 0x0C, 0x00, 0x00, 0x00, 0x1C, 0x83);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3C, 0x30, 0x0F, 0x03, 0xC4, 0xDE);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x30, 0x3C, 0x03, 0x0F, 0x59, 0x77);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x0C, 0xA6, 0xC0);
  delay(20);
  All_off();
  //setp7
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x0C, 0x49, 0x62);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3C, 0x30, 0x33, 0x0F, 0x94, 0xDE);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x33, 0x03, 0x0F, 0x09, 0x4B);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x30, 0x00, 0x00, 0x00, 0xC1, 0xF6);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(20);
  All_off();
  //setp8
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x03, 0x09, 0x66);
  kais(0xE2, 0x0C, 0x00, 0x00, 0x00, 0x81, 0x07);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x3F, 0xD4, 0xCE);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3F, 0x30, 0x03, 0x0F, 0x18, 0x78);
  kais(0xA6, 0x00, 0x00, 0x00, 0x0C, 0xC4, 0x2B);
  kais(0xE7, 0x00, 0x03, 0x00, 0x00, 0x94, 0xF6);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(20);
  All_off();
  //setp9
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x03, 0x00, 0x0D, 0x67);
  kais(0xE2, 0x3F, 0x00, 0x00, 0x00, 0xC5, 0x34);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x0F, 0xD4, 0xDA);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x30, 0x03, 0x0F, 0x1D, 0xBB);
  kais(0xA6, 0x00, 0x00, 0x00, 0x3F, 0x84, 0x3E);
  kais(0xE7, 0x00, 0x00, 0x03, 0x00, 0xC4, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(20);
  All_off();
  //setp10
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x30, 0x00, 0x00, 0x1D, 0x66);
  kais(0xE2, 0x3C, 0x33, 0x00, 0x00, 0x80, 0x06);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x0F, 0xD4, 0xDA);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x30, 0x03, 0x0F, 0x1D, 0xBB);
  kais(0xA6, 0x00, 0x00, 0x33, 0x0F, 0x80, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x0C, 0x00, 0x90, 0x07);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(20);
  All_off();
  //setp11
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x30, 0x00, 0x00, 0x00, 0x08, 0x97);
  kais(0xE2, 0x3C, 0x3C, 0x03, 0x00, 0x85, 0xF6);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x0F, 0xD4, 0xDA);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x30, 0x03, 0x0F, 0x1D, 0xBB);
  kais(0xA6, 0x00, 0x30, 0x0F, 0x0F, 0x84, 0x2A);
  kais(0xE7, 0x00, 0x00, 0x00, 0x0C, 0x80, 0x03);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(20);
  All_off();
  //setp12
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x0C, 0x00, 0x00, 0x00, 0x58, 0xAB);
  kais(0xE2, 0x3C, 0x30, 0x0F, 0x03, 0x80, 0xF6);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x0F, 0xD4, 0xDA);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x30, 0x03, 0x0F, 0x1D, 0xBB);
  kais(0xA6, 0x30, 0x3C, 0x03, 0x0F, 0x80, 0xDB);
  kais(0xE7, 0x00, 0x00, 0x00, 0x30, 0x80, 0x12);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(20);
  All_off();

  kais(0xBF, 0x15, 0x15, 0x15, 0x15, 0x1F, 0x7C);
}
void lowbeam() {
  // setp1
  kais(0x20, 0x00, 0x00, 0x00, 0x0C, 0x0D, 0x4A);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);
  kais(0x64, 0x00, 0x30, 0x3F, 0x0F, 0x59, 0xAA);
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x0C, 0x00, 0x00, 0x00, 0xB7, 0x09);
  delay(33);
  All_off();
  // setp2
  kais(0x20, 0x00, 0x00, 0x00, 0x03, 0x4D, 0x4E);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x0C, 0x00, 0x00, 0x00, 0xC5, 0x2F);
  kais(0x64, 0x00, 0x3C, 0x03, 0x3F, 0x5C, 0xBB);
  kais(0x25, 0x00, 0x00, 0x00, 0x0C, 0x1D, 0x87);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x30, 0x00, 0x00, 0x00, 0xE7, 0x35);
  delay(33);
  All_off();
  // setp3
  kais(0x20, 0x00, 0x00, 0x03, 0x00, 0x49, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3F, 0x00, 0x00, 0x00, 0x81, 0x1C);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x00, 0x00, 0x00, 0x3F, 0x5D, 0x92);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x30, 0x00, 0x00, 0xF2, 0xC4);
  delay(33);
  // setp4
  kais(0x20, 0x00, 0x30, 0x00, 0x00, 0x59, 0x4E);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3C, 0x33, 0x00, 0x00, 0xC4, 0x2E);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x00, 0x00, 0x33, 0x0F, 0x59, 0x82);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x03, 0x00, 0xE2, 0xC5);
  delay(33);
  All_off();
  // setp5
  kais(0x20, 0x30, 0x00, 0x00, 0x00, 0x4C, 0xBF);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3C, 0x3C, 0x03, 0x00, 0xC1, 0xDE);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x00, 0x30, 0x0F, 0x0F, 0x5D, 0x86);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x03, 0xE6, 0xC4);
  delay(33);
  // setp6
  kais(0x20, 0x0C, 0x00, 0x00, 0x00, 0x1C, 0x83);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3C, 0x30, 0x0F, 0x03, 0xC4, 0xDE);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x30, 0x3C, 0x03, 0x0F, 0x59, 0x77);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x0C, 0xA6, 0xC0);
  delay(33);
  All_off();
  // setp7
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x0C, 0x49, 0x62);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3C, 0x30, 0x33, 0x0F, 0x94, 0xDE);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x33, 0x03, 0x0F, 0x09, 0x4B);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x30, 0x00, 0x00, 0x00, 0xC1, 0xF6);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(33);
  All_off();
  // setp8
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x03, 0x09, 0x66);
  kais(0xE2, 0x0C, 0x00, 0x00, 0x00, 0x81, 0x07);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x3F, 0xD4, 0xCE);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3F, 0x30, 0x03, 0x0F, 0x18, 0x78);
  kais(0xA6, 0x00, 0x00, 0x00, 0x0C, 0xC4, 0x2B);
  kais(0xE7, 0x00, 0x03, 0x00, 0x00, 0x94, 0xF6);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(33);
  All_off();
  // setp9
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x03, 0x00, 0x0D, 0x67);
  kais(0xE2, 0x3F, 0x00, 0x00, 0x00, 0xC5, 0x34);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x0F, 0xD4, 0xDA);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x30, 0x03, 0x0F, 0x1D, 0xBB);
  kais(0xA6, 0x00, 0x00, 0x00, 0x3F, 0x84, 0x3E);
  kais(0xE7, 0x00, 0x00, 0x03, 0x00, 0xC4, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(33);
  // setp10
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x30, 0x00, 0x00, 0x1D, 0x66);
  kais(0xE2, 0x3C, 0x33, 0x00, 0x00, 0x80, 0x06);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x0F, 0xD4, 0xDA);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x30, 0x03, 0x0F, 0x1D, 0xBB);
  kais(0xA6, 0x00, 0x00, 0x33, 0x0F, 0x80, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x0C, 0x00, 0x90, 0x07);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(33);
  All_off();
  // setp11
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x30, 0x00, 0x00, 0x00, 0x08, 0x97);
  kais(0xE2, 0x3C, 0x3C, 0x03, 0x00, 0x85, 0xF6);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x0F, 0xD4, 0xDA);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x30, 0x03, 0x0F, 0x1D, 0xBB);
  kais(0xA6, 0x00, 0x30, 0x0F, 0x0F, 0x84, 0x2A);
  kais(0xE7, 0x00, 0x00, 0x00, 0x0C, 0x80, 0x03);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(33);
  All_off();
  // setp12
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x0C, 0x00, 0x00, 0x00, 0x58, 0xAB);
  kais(0xE2, 0x3C, 0x30, 0x0F, 0x03, 0x80, 0xF6);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x0F, 0xD4, 0xDA);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x30, 0x03, 0x0F, 0x1D, 0xBB);
  kais(0xA6, 0x30, 0x3C, 0x03, 0x0F, 0x80, 0xDB);
  kais(0xE7, 0x00, 0x00, 0x00, 0x30, 0x80, 0x12);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(33);
  All_off();

  // 一行近光
  kais(0x20, 0x04, 0x00, 0x00, 0x00, 0x03, 0xCB);
  kais(0x61, 0x14, 0x10, 0x01, 0x05, 0x49, 0x70);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x10, 0x00, 0x00, 0x6B, 0x05);

  // 两行近光灯
  // kais(0x20, 0x14, 0x10, 0x01, 0x05, 0x0D, 0x58);  //#u:1
  // kais(0x61, 0x14, 0x10, 0x01, 0x05, 0x49, 0x70);  //#u:2
  // kais(0xE2, 0x14, 0x10, 0x01, 0x05, 0x90, 0xDC);  //#u:3
  // kais(0xA3, 0x14, 0x10, 0x01, 0x05, 0xD4, 0xF4);  //#u:4
  // kais(0x64, 0x00, 0x10, 0x01, 0x05, 0x69, 0xA9);  //#u:5
  // kais(0x25, 0x14, 0x10, 0x01, 0x05, 0x1D, 0x95);  //#u:6
  // kais(0xA6, 0x14, 0x10, 0x01, 0x05, 0xC4, 0x39);  //#u:7
  // kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);  //#u:8
  // kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);  //#u:9

  // kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  // kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  // kais(0xE2, 0x3F, 0x3F, 0x3F, 0x00, 0xC4, 0xC0);
  // kais(0xA3, 0x3F, 0x3F, 0x3F, 0x3F, 0xC0, 0xF8);
  // kais(0x64, 0x00, 0x3C, 0x3F, 0x3F, 0x0C, 0xBE);
  // kais(0x25, 0x3F, 0x3F, 0x3F, 0x3F, 0x09, 0x99);
  // kais(0xA6, 0x00, 0x3F, 0x3F, 0x3F, 0x85, 0xCA);
  // kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  // kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
}
void lowbea2m() {
  // setp1
  kais(0x20, 0x00, 0x00, 0x00, 0x0C, 0x0D, 0x4A);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x00, 0x00, 0x00, 0x00, 0xD4, 0xE3);
  kais(0x64, 0x00, 0x30, 0x3F, 0x0F, 0x59, 0xAA);
  kais(0x25, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x82);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x0C, 0x00, 0x00, 0x00, 0xB7, 0x09);
  delay(33);
  All_off();
  // setp2
  kais(0x20, 0x00, 0x00, 0x00, 0x03, 0x4D, 0x4E);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x0C, 0x00, 0x00, 0x00, 0xC5, 0x2F);
  kais(0x64, 0x00, 0x3C, 0x03, 0x3F, 0x5C, 0xBB);
  kais(0x25, 0x00, 0x00, 0x00, 0x0C, 0x1D, 0x87);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x30, 0x00, 0x00, 0x00, 0xE7, 0x35);
  delay(33);
  All_off();
  // setp3
  kais(0x20, 0x00, 0x00, 0x03, 0x00, 0x49, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3F, 0x00, 0x00, 0x00, 0x81, 0x1C);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x00, 0x00, 0x00, 0x3F, 0x5D, 0x92);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x30, 0x00, 0x00, 0xF2, 0xC4);
  delay(33);
  // setp4
  kais(0x20, 0x00, 0x30, 0x00, 0x00, 0x59, 0x4E);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3C, 0x33, 0x00, 0x00, 0xC4, 0x2E);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x00, 0x00, 0x33, 0x0F, 0x59, 0x82);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x03, 0x00, 0xE2, 0xC5);
  delay(33);
  All_off();
  // setp5
  kais(0x20, 0x30, 0x00, 0x00, 0x00, 0x4C, 0xBF);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3C, 0x3C, 0x03, 0x00, 0xC1, 0xDE);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x00, 0x30, 0x0F, 0x0F, 0x5D, 0x86);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x03, 0xE6, 0xC4);
  delay(33);
  // setp6
  kais(0x20, 0x0C, 0x00, 0x00, 0x00, 0x1C, 0x83);
  kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3C, 0x30, 0x0F, 0x03, 0xC4, 0xDE);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x30, 0x3C, 0x03, 0x0F, 0x59, 0x77);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x0C, 0xA6, 0xC0);
  delay(33);
  All_off();
  // setp7
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x0C, 0x49, 0x62);
  kais(0xE2, 0x00, 0x00, 0x00, 0x00, 0x90, 0xCB);
  kais(0xA3, 0x3C, 0x30, 0x33, 0x0F, 0x94, 0xDE);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x33, 0x03, 0x0F, 0x09, 0x4B);
  kais(0xA6, 0x00, 0x00, 0x00, 0x00, 0xC4, 0x2E);
  kais(0xE7, 0x30, 0x00, 0x00, 0x00, 0xC1, 0xF6);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(33);
  All_off();
  // setp8
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x00, 0x03, 0x09, 0x66);
  kais(0xE2, 0x0C, 0x00, 0x00, 0x00, 0x81, 0x07);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x3F, 0xD4, 0xCE);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3F, 0x30, 0x03, 0x0F, 0x18, 0x78);
  kais(0xA6, 0x00, 0x00, 0x00, 0x0C, 0xC4, 0x2B);
  kais(0xE7, 0x00, 0x03, 0x00, 0x00, 0x94, 0xF6);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(33);
  All_off();
  // setp9
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x00, 0x03, 0x00, 0x0D, 0x67);
  kais(0xE2, 0x3F, 0x00, 0x00, 0x00, 0xC5, 0x34);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x0F, 0xD4, 0xDA);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x30, 0x03, 0x0F, 0x1D, 0xBB);
  kais(0xA6, 0x00, 0x00, 0x00, 0x3F, 0x84, 0x3E);
  kais(0xE7, 0x00, 0x00, 0x03, 0x00, 0xC4, 0x06);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(33);
  // setp10
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x00, 0x30, 0x00, 0x00, 0x1D, 0x66);
  kais(0xE2, 0x3C, 0x33, 0x00, 0x00, 0x80, 0x06);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x0F, 0xD4, 0xDA);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x30, 0x03, 0x0F, 0x1D, 0xBB);
  kais(0xA6, 0x00, 0x00, 0x33, 0x0F, 0x80, 0x2E);
  kais(0xE7, 0x00, 0x00, 0x0C, 0x00, 0x90, 0x07);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(33);
  All_off();
  // setp11
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x30, 0x00, 0x00, 0x00, 0x08, 0x97);
  kais(0xE2, 0x3C, 0x3C, 0x03, 0x00, 0x85, 0xF6);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x0F, 0xD4, 0xDA);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x30, 0x03, 0x0F, 0x1D, 0xBB);
  kais(0xA6, 0x00, 0x30, 0x0F, 0x0F, 0x84, 0x2A);
  kais(0xE7, 0x00, 0x00, 0x00, 0x0C, 0x80, 0x03);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(33);
  All_off();
  // setp12
  kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  kais(0x61, 0x0C, 0x00, 0x00, 0x00, 0x58, 0xAB);
  kais(0xE2, 0x3C, 0x30, 0x0F, 0x03, 0x80, 0xF6);
  kais(0xA3, 0x3C, 0x30, 0x03, 0x0F, 0xD4, 0xDA);
  kais(0x64, 0x00, 0x30, 0x03, 0x0F, 0x09, 0xAF);
  kais(0x25, 0x3C, 0x30, 0x03, 0x0F, 0x1D, 0xBB);
  kais(0xA6, 0x30, 0x3C, 0x03, 0x0F, 0x80, 0xDB);
  kais(0xE7, 0x00, 0x00, 0x00, 0x30, 0x80, 0x12);
  kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);
  delay(33);
  All_off();
  //两行近光
  // kais(0x20, 0x00, 0x00, 0x00, 0x00, 0x0D, 0x4F);
  // kais(0x61, 0x00, 0x00, 0x00, 0x00, 0x49, 0x67);
  // kais(0xE2, 0x3F, 0x3F, 0x3F, 0x00, 0xC4, 0xC0);
  // kais(0xA3, 0x3F, 0x3F, 0x3F, 0x3F, 0xC0, 0xF8);
  // kais(0x64, 0x00, 0x3C, 0x3F, 0x3F, 0x0C, 0xBE);
  // kais(0x25, 0x3F, 0x3F, 0x3F, 0x3F, 0x09, 0x99);
  // kais(0xA6, 0x00, 0x3F, 0x3F, 0x3F, 0x85, 0xCA);
  // kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  // kais(0xA8, 0x00, 0x00, 0x00, 0x00, 0xA6, 0xC5);

  // 四行近光
  // kais(0x20, 0x15, 0x15, 0x15, 0x15, 0x01, 0x46);
  // kais(0x61, 0x14, 0x15, 0x15, 0x15, 0x47, 0xEF);
  // kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  // kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  // kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  // kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  // kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  // kais(0xE7, 0x10, 0x01, 0x05, 0x14, 0x7F, 0x09);
  // kais(0xA8, 0x14, 0x10, 0x01, 0x05, 0xA6, 0xD2);
  // 一行近光灯
  kais(0x20, 0x04, 0x00, 0x00, 0x00, 0x03, 0xCB);
  kais(0x61, 0x14, 0x10, 0x01, 0x05, 0x49, 0x70);
  kais(0xE2, 0x15, 0x15, 0x15, 0x15, 0x9C, 0xC2);
  kais(0xA3, 0x15, 0x15, 0x15, 0x15, 0xD8, 0xEA);
  kais(0x64, 0x00, 0x14, 0x15, 0x15, 0x6A, 0xA6);
  kais(0x25, 0x15, 0x15, 0x15, 0x15, 0x11, 0x8B);
  kais(0xA6, 0x15, 0x15, 0x15, 0x15, 0xC8, 0x27);
  kais(0xE7, 0x00, 0x00, 0x00, 0x00, 0x80, 0x06);
  kais(0xA8, 0x00, 0x10, 0x00, 0x00, 0x6B, 0x05);
}
void loop() {
  // 常规 loop
  int state = digitalRead(ioHigh);  // 读取IO口的状态
  if (state == HIGH) {
    // Serial.println("远光输入状态");
    if (global_status != 2) {
      Serial.println("远光灯");
      arrayinit();
      high_beam();
      global_status = 2;
    }
  } else {
    // Serial.println("近光状态");
    if (global_status != 1) {
      Serial.println("近光");
      arrayinit();
      // lowbea2m();
      lowbea2m();
      global_status = 1;
    }
  }
  delay(88);
}
